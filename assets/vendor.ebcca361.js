var gn=Object.defineProperty;var ct=Object.getOwnPropertySymbols;var vn=Object.prototype.hasOwnProperty,pn=Object.prototype.propertyIsEnumerable;var ut=(o,a,u)=>a in o?gn(o,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):o[a]=u,Ne=(o,a)=>{for(var u in a||(a={}))vn.call(a,u)&&ut(o,u,a[u]);if(ct)for(var u of ct(a))pn.call(a,u)&&ut(o,u,a[u]);return o};var We=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},dn={exports:{}};/*!
 * matter-js 0.18.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(o,a){(function(p,i){o.exports=i()})(We,function(){return function(u){var p={};function i(e){if(p[e])return p[e].exports;var s=p[e]={i:e,l:!1,exports:{}};return u[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=u,i.c=p,i.d=function(e,s,r){i.o(e,s)||Object.defineProperty(e,s,{enumerable:!0,get:r})},i.r=function(e){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,s){if(s&1&&(e=i(e)),s&8||s&4&&typeof e=="object"&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),s&2&&typeof e!="string")for(var n in e)i.d(r,n,function(h){return e[h]}.bind(null,n));return r},i.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(s,"a",s),s},i.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},i.p="",i(i.s=21)}([function(u,p){var i={};u.exports=i,function(){i._nextId=0,i._seed=0,i._nowStartTime=+new Date,i._warnedOnce={},i._decomp=null,i.extend=function(s,r){var n,h;typeof r=="boolean"?(n=2,h=r):(n=1,h=!0);for(var l=n;l<arguments.length;l++){var v=arguments[l];if(v)for(var f in v)h&&v[f]&&v[f].constructor===Object&&(!s[f]||s[f].constructor===Object)?(s[f]=s[f]||{},i.extend(s[f],h,v[f])):s[f]=v[f]}return s},i.clone=function(s,r){return i.extend({},r,s)},i.keys=function(s){if(Object.keys)return Object.keys(s);var r=[];for(var n in s)r.push(n);return r},i.values=function(s){var r=[];if(Object.keys){for(var n=Object.keys(s),h=0;h<n.length;h++)r.push(s[n[h]]);return r}for(var l in s)r.push(s[l]);return r},i.get=function(s,r,n,h){r=r.split(".").slice(n,h);for(var l=0;l<r.length;l+=1)s=s[r[l]];return s},i.set=function(s,r,n,h,l){var v=r.split(".").slice(h,l);return i.get(s,r,0,-1)[v[v.length-1]]=n,n},i.shuffle=function(s){for(var r=s.length-1;r>0;r--){var n=Math.floor(i.random()*(r+1)),h=s[r];s[r]=s[n],s[n]=h}return s},i.choose=function(s){return s[Math.floor(i.random()*s.length)]},i.isElement=function(s){return typeof HTMLElement!="undefined"?s instanceof HTMLElement:!!(s&&s.nodeType&&s.nodeName)},i.isArray=function(s){return Object.prototype.toString.call(s)==="[object Array]"},i.isFunction=function(s){return typeof s=="function"},i.isPlainObject=function(s){return typeof s=="object"&&s.constructor===Object},i.isString=function(s){return toString.call(s)==="[object String]"},i.clamp=function(s,r,n){return s<r?r:s>n?n:s},i.sign=function(s){return s<0?-1:1},i.now=function(){if(typeof window!="undefined"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-i._nowStartTime},i.random=function(s,r){return s=typeof s!="undefined"?s:0,r=typeof r!="undefined"?r:1,s+e()*(r-s)};var e=function(){return i._seed=(i._seed*9301+49297)%233280,i._seed/233280};i.colorToNumber=function(s){return s=s.replace("#",""),s.length==3&&(s=s.charAt(0)+s.charAt(0)+s.charAt(1)+s.charAt(1)+s.charAt(2)+s.charAt(2)),parseInt(s,16)},i.logLevel=1,i.log=function(){console&&i.logLevel>0&&i.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.info=function(){console&&i.logLevel>0&&i.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.warn=function(){console&&i.logLevel>0&&i.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.warnOnce=function(){var s=Array.prototype.slice.call(arguments).join(" ");i._warnedOnce[s]||(i.warn(s),i._warnedOnce[s]=!0)},i.deprecated=function(s,r,n){s[r]=i.chain(function(){i.warnOnce("\u{1F505} deprecated \u{1F505}",n)},s[r])},i.nextId=function(){return i._nextId++},i.indexOf=function(s,r){if(s.indexOf)return s.indexOf(r);for(var n=0;n<s.length;n++)if(s[n]===r)return n;return-1},i.map=function(s,r){if(s.map)return s.map(r);for(var n=[],h=0;h<s.length;h+=1)n.push(r(s[h]));return n},i.topologicalSort=function(s){var r=[],n=[],h=[];for(var l in s)!n[l]&&!h[l]&&i._topologicalSort(l,n,h,s,r);return r},i._topologicalSort=function(s,r,n,h,l){var v=h[s]||[];n[s]=!0;for(var f=0;f<v.length;f+=1){var t=v[f];n[t]||r[t]||i._topologicalSort(t,r,n,h,l)}n[s]=!1,r[s]=!0,l.push(s)},i.chain=function(){for(var s=[],r=0;r<arguments.length;r+=1){var n=arguments[r];n._chained?s.push.apply(s,n._chained):s.push(n)}var h=function(){for(var l,v=new Array(arguments.length),f=0,t=arguments.length;f<t;f++)v[f]=arguments[f];for(f=0;f<s.length;f+=1){var c=s[f].apply(l,v);typeof c!="undefined"&&(l=c)}return l};return h._chained=s,h},i.chainPathBefore=function(s,r,n){return i.set(s,r,i.chain(n,i.get(s,r)))},i.chainPathAfter=function(s,r,n){return i.set(s,r,i.chain(i.get(s,r),n))},i.setDecomp=function(s){i._decomp=s},i.getDecomp=function(){var s=i._decomp;try{!s&&typeof window!="undefined"&&(s=window.decomp),!s&&typeof We!="undefined"&&(s=We.decomp)}catch{s=null}return s}}()},function(u,p){var i={};u.exports=i,function(){i.create=function(e){var s={min:{x:0,y:0},max:{x:0,y:0}};return e&&i.update(s,e),s},i.update=function(e,s,r){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var n=0;n<s.length;n++){var h=s[n];h.x>e.max.x&&(e.max.x=h.x),h.x<e.min.x&&(e.min.x=h.x),h.y>e.max.y&&(e.max.y=h.y),h.y<e.min.y&&(e.min.y=h.y)}r&&(r.x>0?e.max.x+=r.x:e.min.x+=r.x,r.y>0?e.max.y+=r.y:e.min.y+=r.y)},i.contains=function(e,s){return s.x>=e.min.x&&s.x<=e.max.x&&s.y>=e.min.y&&s.y<=e.max.y},i.overlaps=function(e,s){return e.min.x<=s.max.x&&e.max.x>=s.min.x&&e.max.y>=s.min.y&&e.min.y<=s.max.y},i.translate=function(e,s){e.min.x+=s.x,e.max.x+=s.x,e.min.y+=s.y,e.max.y+=s.y},i.shift=function(e,s){var r=e.max.x-e.min.x,n=e.max.y-e.min.y;e.min.x=s.x,e.max.x=s.x+r,e.min.y=s.y,e.max.y=s.y+n}}()},function(u,p){var i={};u.exports=i,function(){i.create=function(e,s){return{x:e||0,y:s||0}},i.clone=function(e){return{x:e.x,y:e.y}},i.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},i.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},i.rotate=function(e,s,r){var n=Math.cos(s),h=Math.sin(s);r||(r={});var l=e.x*n-e.y*h;return r.y=e.x*h+e.y*n,r.x=l,r},i.rotateAbout=function(e,s,r,n){var h=Math.cos(s),l=Math.sin(s);n||(n={});var v=r.x+((e.x-r.x)*h-(e.y-r.y)*l);return n.y=r.y+((e.x-r.x)*l+(e.y-r.y)*h),n.x=v,n},i.normalise=function(e){var s=i.magnitude(e);return s===0?{x:0,y:0}:{x:e.x/s,y:e.y/s}},i.dot=function(e,s){return e.x*s.x+e.y*s.y},i.cross=function(e,s){return e.x*s.y-e.y*s.x},i.cross3=function(e,s,r){return(s.x-e.x)*(r.y-e.y)-(s.y-e.y)*(r.x-e.x)},i.add=function(e,s,r){return r||(r={}),r.x=e.x+s.x,r.y=e.y+s.y,r},i.sub=function(e,s,r){return r||(r={}),r.x=e.x-s.x,r.y=e.y-s.y,r},i.mult=function(e,s){return{x:e.x*s,y:e.y*s}},i.div=function(e,s){return{x:e.x/s,y:e.y/s}},i.perp=function(e,s){return s=s===!0?-1:1,{x:s*-e.y,y:s*e.x}},i.neg=function(e){return{x:-e.x,y:-e.y}},i.angle=function(e,s){return Math.atan2(s.y-e.y,s.x-e.x)},i._temp=[i.create(),i.create(),i.create(),i.create(),i.create(),i.create()]}()},function(u,p,i){var e={};u.exports=e;var s=i(2),r=i(0);(function(){e.create=function(n,h){for(var l=[],v=0;v<n.length;v++){var f=n[v],t={x:f.x,y:f.y,index:v,body:h,isInternal:!1};l.push(t)}return l},e.fromPath=function(n,h){var l=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,v=[];return n.replace(l,function(f,t,c){v.push({x:parseFloat(t),y:parseFloat(c)})}),e.create(v,h)},e.centre=function(n){for(var h=e.area(n,!0),l={x:0,y:0},v,f,t,c=0;c<n.length;c++)t=(c+1)%n.length,v=s.cross(n[c],n[t]),f=s.mult(s.add(n[c],n[t]),v),l=s.add(l,f);return s.div(l,6*h)},e.mean=function(n){for(var h={x:0,y:0},l=0;l<n.length;l++)h.x+=n[l].x,h.y+=n[l].y;return s.div(h,n.length)},e.area=function(n,h){for(var l=0,v=n.length-1,f=0;f<n.length;f++)l+=(n[v].x-n[f].x)*(n[v].y+n[f].y),v=f;return h?l/2:Math.abs(l)/2},e.inertia=function(n,h){for(var l=0,v=0,f=n,t,c,g=0;g<f.length;g++)c=(g+1)%f.length,t=Math.abs(s.cross(f[c],f[g])),l+=t*(s.dot(f[c],f[c])+s.dot(f[c],f[g])+s.dot(f[g],f[g])),v+=t;return h/6*(l/v)},e.translate=function(n,h,l){l=typeof l!="undefined"?l:1;var v=n.length,f=h.x*l,t=h.y*l,c;for(c=0;c<v;c++)n[c].x+=f,n[c].y+=t;return n},e.rotate=function(n,h,l){if(h!==0){var v=Math.cos(h),f=Math.sin(h),t=l.x,c=l.y,g=n.length,x,S,M,E;for(E=0;E<g;E++)x=n[E],S=x.x-t,M=x.y-c,x.x=t+(S*v-M*f),x.y=c+(S*f+M*v);return n}},e.contains=function(n,h){for(var l=h.x,v=h.y,f=n.length,t=n[f-1],c,g=0;g<f;g++){if(c=n[g],(l-t.x)*(c.y-t.y)+(v-t.y)*(t.x-c.x)>0)return!1;t=c}return!0},e.scale=function(n,h,l,v){if(h===1&&l===1)return n;v=v||e.centre(n);for(var f,t,c=0;c<n.length;c++)f=n[c],t=s.sub(f,v),n[c].x=v.x+t.x*h,n[c].y=v.y+t.y*l;return n},e.chamfer=function(n,h,l,v,f){typeof h=="number"?h=[h]:h=h||[8],l=typeof l!="undefined"?l:-1,v=v||2,f=f||14;for(var t=[],c=0;c<n.length;c++){var g=n[c-1>=0?c-1:n.length-1],x=n[c],S=n[(c+1)%n.length],M=h[c<h.length?c:h.length-1];if(M===0){t.push(x);continue}var E=s.normalise({x:x.y-g.y,y:g.x-x.x}),d=s.normalise({x:S.y-x.y,y:x.x-S.x}),m=Math.sqrt(2*Math.pow(M,2)),C=s.mult(r.clone(E),M),y=s.normalise(s.mult(s.add(E,d),.5)),T=s.sub(x,s.mult(y,m)),P=l;l===-1&&(P=Math.pow(M,.32)*1.75),P=r.clamp(P,v,f),P%2==1&&(P+=1);for(var A=Math.acos(s.dot(E,d)),w=A/P,I=0;I<P;I++)t.push(s.add(s.rotate(C,w*I),T))}return t},e.clockwiseSort=function(n){var h=e.mean(n);return n.sort(function(l,v){return s.angle(h,l)-s.angle(h,v)}),n},e.isConvex=function(n){var h=0,l=n.length,v,f,t,c;if(l<3)return null;for(v=0;v<l;v++)if(f=(v+1)%l,t=(v+2)%l,c=(n[f].x-n[v].x)*(n[t].y-n[f].y),c-=(n[f].y-n[v].y)*(n[t].x-n[f].x),c<0?h|=1:c>0&&(h|=2),h===3)return!1;return h!==0?!0:null},e.hull=function(n){var h=[],l=[],v,f;for(n=n.slice(0),n.sort(function(t,c){var g=t.x-c.x;return g!==0?g:t.y-c.y}),f=0;f<n.length;f+=1){for(v=n[f];l.length>=2&&s.cross3(l[l.length-2],l[l.length-1],v)<=0;)l.pop();l.push(v)}for(f=n.length-1;f>=0;f-=1){for(v=n[f];h.length>=2&&s.cross3(h[h.length-2],h[h.length-1],v)<=0;)h.pop();h.push(v)}return h.pop(),l.pop(),h.concat(l)}})()},function(u,p,i){var e={};u.exports=e;var s=i(0);(function(){e.on=function(r,n,h){for(var l=n.split(" "),v,f=0;f<l.length;f++)v=l[f],r.events=r.events||{},r.events[v]=r.events[v]||[],r.events[v].push(h);return h},e.off=function(r,n,h){if(!n){r.events={};return}typeof n=="function"&&(h=n,n=s.keys(r.events).join(" "));for(var l=n.split(" "),v=0;v<l.length;v++){var f=r.events[l[v]],t=[];if(h&&f)for(var c=0;c<f.length;c++)f[c]!==h&&t.push(f[c]);r.events[l[v]]=t}},e.trigger=function(r,n,h){var l,v,f,t,c=r.events;if(c&&s.keys(c).length>0){h||(h={}),l=n.split(" ");for(var g=0;g<l.length;g++)if(v=l[g],f=c[v],f){t=s.clone(h,!1),t.name=v,t.source=r;for(var x=0;x<f.length;x++)f[x].apply(r,[t])}}}})()},function(u,p,i){var e={};u.exports=e;var s=i(4),r=i(0),n=i(1),h=i(6);(function(){e.create=function(l){return r.extend({id:r.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},l)},e.setModified=function(l,v,f,t){if(l.isModified=v,v&&l.cache&&(l.cache.allBodies=null,l.cache.allConstraints=null,l.cache.allComposites=null),f&&l.parent&&e.setModified(l.parent,v,f,t),t)for(var c=0;c<l.composites.length;c++){var g=l.composites[c];e.setModified(g,v,f,t)}},e.add=function(l,v){var f=[].concat(v);s.trigger(l,"beforeAdd",{object:v});for(var t=0;t<f.length;t++){var c=f[t];switch(c.type){case"body":if(c.parent!==c){r.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(l,c);break;case"constraint":e.addConstraint(l,c);break;case"composite":e.addComposite(l,c);break;case"mouseConstraint":e.addConstraint(l,c.constraint);break}}return s.trigger(l,"afterAdd",{object:v}),l},e.remove=function(l,v,f){var t=[].concat(v);s.trigger(l,"beforeRemove",{object:v});for(var c=0;c<t.length;c++){var g=t[c];switch(g.type){case"body":e.removeBody(l,g,f);break;case"constraint":e.removeConstraint(l,g,f);break;case"composite":e.removeComposite(l,g,f);break;case"mouseConstraint":e.removeConstraint(l,g.constraint);break}}return s.trigger(l,"afterRemove",{object:v}),l},e.addComposite=function(l,v){return l.composites.push(v),v.parent=l,e.setModified(l,!0,!0,!1),l},e.removeComposite=function(l,v,f){var t=r.indexOf(l.composites,v);if(t!==-1&&e.removeCompositeAt(l,t),f)for(var c=0;c<l.composites.length;c++)e.removeComposite(l.composites[c],v,!0);return l},e.removeCompositeAt=function(l,v){return l.composites.splice(v,1),e.setModified(l,!0,!0,!1),l},e.addBody=function(l,v){return l.bodies.push(v),e.setModified(l,!0,!0,!1),l},e.removeBody=function(l,v,f){var t=r.indexOf(l.bodies,v);if(t!==-1&&e.removeBodyAt(l,t),f)for(var c=0;c<l.composites.length;c++)e.removeBody(l.composites[c],v,!0);return l},e.removeBodyAt=function(l,v){return l.bodies.splice(v,1),e.setModified(l,!0,!0,!1),l},e.addConstraint=function(l,v){return l.constraints.push(v),e.setModified(l,!0,!0,!1),l},e.removeConstraint=function(l,v,f){var t=r.indexOf(l.constraints,v);if(t!==-1&&e.removeConstraintAt(l,t),f)for(var c=0;c<l.composites.length;c++)e.removeConstraint(l.composites[c],v,!0);return l},e.removeConstraintAt=function(l,v){return l.constraints.splice(v,1),e.setModified(l,!0,!0,!1),l},e.clear=function(l,v,f){if(f)for(var t=0;t<l.composites.length;t++)e.clear(l.composites[t],v,!0);return v?l.bodies=l.bodies.filter(function(c){return c.isStatic}):l.bodies.length=0,l.constraints.length=0,l.composites.length=0,e.setModified(l,!0,!0,!1),l},e.allBodies=function(l){if(l.cache&&l.cache.allBodies)return l.cache.allBodies;for(var v=[].concat(l.bodies),f=0;f<l.composites.length;f++)v=v.concat(e.allBodies(l.composites[f]));return l.cache&&(l.cache.allBodies=v),v},e.allConstraints=function(l){if(l.cache&&l.cache.allConstraints)return l.cache.allConstraints;for(var v=[].concat(l.constraints),f=0;f<l.composites.length;f++)v=v.concat(e.allConstraints(l.composites[f]));return l.cache&&(l.cache.allConstraints=v),v},e.allComposites=function(l){if(l.cache&&l.cache.allComposites)return l.cache.allComposites;for(var v=[].concat(l.composites),f=0;f<l.composites.length;f++)v=v.concat(e.allComposites(l.composites[f]));return l.cache&&(l.cache.allComposites=v),v},e.get=function(l,v,f){var t,c;switch(f){case"body":t=e.allBodies(l);break;case"constraint":t=e.allConstraints(l);break;case"composite":t=e.allComposites(l).concat(l);break}return t?(c=t.filter(function(g){return g.id.toString()===v.toString()}),c.length===0?null:c[0]):null},e.move=function(l,v,f){return e.remove(l,v),e.add(f,v),l},e.rebase=function(l){for(var v=e.allBodies(l).concat(e.allConstraints(l)).concat(e.allComposites(l)),f=0;f<v.length;f++)v[f].id=r.nextId();return l},e.translate=function(l,v,f){for(var t=f?e.allBodies(l):l.bodies,c=0;c<t.length;c++)h.translate(t[c],v);return l},e.rotate=function(l,v,f,t){for(var c=Math.cos(v),g=Math.sin(v),x=t?e.allBodies(l):l.bodies,S=0;S<x.length;S++){var M=x[S],E=M.position.x-f.x,d=M.position.y-f.y;h.setPosition(M,{x:f.x+(E*c-d*g),y:f.y+(E*g+d*c)}),h.rotate(M,v)}return l},e.scale=function(l,v,f,t,c){for(var g=c?e.allBodies(l):l.bodies,x=0;x<g.length;x++){var S=g[x],M=S.position.x-t.x,E=S.position.y-t.y;h.setPosition(S,{x:t.x+M*v,y:t.y+E*f}),h.scale(S,v,f)}return l},e.bounds=function(l){for(var v=e.allBodies(l),f=[],t=0;t<v.length;t+=1){var c=v[t];f.push(c.bounds.min,c.bounds.max)}return n.create(f)}})()},function(u,p,i){var e={};u.exports=e;var s=i(3),r=i(2),n=i(7);i(16);var h=i(0),l=i(1),v=i(11);(function(){e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e.create=function(t){var c={id:h.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:s.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,_original:null},g=h.extend(c,t);return f(g,t),g},e.nextGroup=function(t){return t?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var f=function(t,c){c=c||{},e.set(t,{bounds:t.bounds||l.create(t.vertices),positionPrev:t.positionPrev||r.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),s.rotate(t.vertices,t.angle,t.position),v.rotate(t.axes,t.angle),l.update(t.bounds,t.vertices,t.velocity),e.set(t,{axes:c.axes||t.axes,area:c.area||t.area,mass:c.mass||t.mass,inertia:c.inertia||t.inertia});var g=t.isStatic?"#14151f":h.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),x=t.isStatic?"#555":"#ccc",S=t.isStatic&&t.render.fillStyle===null?1:0;t.render.fillStyle=t.render.fillStyle||g,t.render.strokeStyle=t.render.strokeStyle||x,t.render.lineWidth=t.render.lineWidth||S,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};e.set=function(t,c,g){var x;typeof c=="string"&&(x=c,c={},c[x]=g);for(x in c)if(!!Object.prototype.hasOwnProperty.call(c,x))switch(g=c[x],x){case"isStatic":e.setStatic(t,g);break;case"isSleeping":n.set(t,g);break;case"mass":e.setMass(t,g);break;case"density":e.setDensity(t,g);break;case"inertia":e.setInertia(t,g);break;case"vertices":e.setVertices(t,g);break;case"position":e.setPosition(t,g);break;case"angle":e.setAngle(t,g);break;case"velocity":e.setVelocity(t,g);break;case"angularVelocity":e.setAngularVelocity(t,g);break;case"parts":e.setParts(t,g);break;case"centre":e.setCentre(t,g);break;default:t[x]=g}},e.setStatic=function(t,c){for(var g=0;g<t.parts.length;g++){var x=t.parts[g];x.isStatic=c,c?(x._original={restitution:x.restitution,friction:x.friction,mass:x.mass,inertia:x.inertia,density:x.density,inverseMass:x.inverseMass,inverseInertia:x.inverseInertia},x.restitution=0,x.friction=1,x.mass=x.inertia=x.density=1/0,x.inverseMass=x.inverseInertia=0,x.positionPrev.x=x.position.x,x.positionPrev.y=x.position.y,x.anglePrev=x.angle,x.angularVelocity=0,x.speed=0,x.angularSpeed=0,x.motion=0):x._original&&(x.restitution=x._original.restitution,x.friction=x._original.friction,x.mass=x._original.mass,x.inertia=x._original.inertia,x.density=x._original.density,x.inverseMass=x._original.inverseMass,x.inverseInertia=x._original.inverseInertia,x._original=null)}},e.setMass=function(t,c){var g=t.inertia/(t.mass/6);t.inertia=g*(c/6),t.inverseInertia=1/t.inertia,t.mass=c,t.inverseMass=1/t.mass,t.density=t.mass/t.area},e.setDensity=function(t,c){e.setMass(t,c*t.area),t.density=c},e.setInertia=function(t,c){t.inertia=c,t.inverseInertia=1/t.inertia},e.setVertices=function(t,c){c[0].body===t?t.vertices=c:t.vertices=s.create(c,t),t.axes=v.fromVertices(t.vertices),t.area=s.area(t.vertices),e.setMass(t,t.density*t.area);var g=s.centre(t.vertices);s.translate(t.vertices,g,-1),e.setInertia(t,e._inertiaScale*s.inertia(t.vertices,t.mass)),s.translate(t.vertices,t.position),l.update(t.bounds,t.vertices,t.velocity)},e.setParts=function(t,c,g){var x;for(c=c.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,x=0;x<c.length;x++){var S=c[x];S!==t&&(S.parent=t,t.parts.push(S))}if(t.parts.length!==1){if(g=typeof g!="undefined"?g:!0,g){var M=[];for(x=0;x<c.length;x++)M=M.concat(c[x].vertices);s.clockwiseSort(M);var E=s.hull(M),d=s.centre(E);e.setVertices(t,E),s.translate(t.vertices,d)}var m=e._totalProperties(t);t.area=m.area,t.parent=t,t.position.x=m.centre.x,t.position.y=m.centre.y,t.positionPrev.x=m.centre.x,t.positionPrev.y=m.centre.y,e.setMass(t,m.mass),e.setInertia(t,m.inertia),e.setPosition(t,m.centre)}},e.setCentre=function(t,c,g){g?(t.positionPrev.x+=c.x,t.positionPrev.y+=c.y,t.position.x+=c.x,t.position.y+=c.y):(t.positionPrev.x=c.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=c.y-(t.position.y-t.positionPrev.y),t.position.x=c.x,t.position.y=c.y)},e.setPosition=function(t,c){var g=r.sub(c,t.position);t.positionPrev.x+=g.x,t.positionPrev.y+=g.y;for(var x=0;x<t.parts.length;x++){var S=t.parts[x];S.position.x+=g.x,S.position.y+=g.y,s.translate(S.vertices,g),l.update(S.bounds,S.vertices,t.velocity)}},e.setAngle=function(t,c){var g=c-t.angle;t.anglePrev+=g;for(var x=0;x<t.parts.length;x++){var S=t.parts[x];S.angle+=g,s.rotate(S.vertices,g,t.position),v.rotate(S.axes,g),l.update(S.bounds,S.vertices,t.velocity),x>0&&r.rotateAbout(S.position,g,t.position,S.position)}},e.setVelocity=function(t,c){t.positionPrev.x=t.position.x-c.x,t.positionPrev.y=t.position.y-c.y,t.velocity.x=c.x,t.velocity.y=c.y,t.speed=r.magnitude(t.velocity)},e.setAngularVelocity=function(t,c){t.anglePrev=t.angle-c,t.angularVelocity=c,t.angularSpeed=Math.abs(t.angularVelocity)},e.translate=function(t,c){e.setPosition(t,r.add(t.position,c))},e.rotate=function(t,c,g){if(!g)e.setAngle(t,t.angle+c);else{var x=Math.cos(c),S=Math.sin(c),M=t.position.x-g.x,E=t.position.y-g.y;e.setPosition(t,{x:g.x+(M*x-E*S),y:g.y+(M*S+E*x)}),e.setAngle(t,t.angle+c)}},e.scale=function(t,c,g,x){var S=0,M=0;x=x||t.position;for(var E=0;E<t.parts.length;E++){var d=t.parts[E];s.scale(d.vertices,c,g,x),d.axes=v.fromVertices(d.vertices),d.area=s.area(d.vertices),e.setMass(d,t.density*d.area),s.translate(d.vertices,{x:-d.position.x,y:-d.position.y}),e.setInertia(d,e._inertiaScale*s.inertia(d.vertices,d.mass)),s.translate(d.vertices,{x:d.position.x,y:d.position.y}),E>0&&(S+=d.area,M+=d.inertia),d.position.x=x.x+(d.position.x-x.x)*c,d.position.y=x.y+(d.position.y-x.y)*g,l.update(d.bounds,d.vertices,t.velocity)}t.parts.length>1&&(t.area=S,t.isStatic||(e.setMass(t,t.density*S),e.setInertia(t,M))),t.circleRadius&&(c===g?t.circleRadius*=c:t.circleRadius=null)},e.update=function(t,c,g,x){var S=Math.pow(c*g*t.timeScale,2),M=1-t.frictionAir*g*t.timeScale,E=t.position.x-t.positionPrev.x,d=t.position.y-t.positionPrev.y;t.velocity.x=E*M*x+t.force.x/t.mass*S,t.velocity.y=d*M*x+t.force.y/t.mass*S,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.angularVelocity=(t.angle-t.anglePrev)*M*x+t.torque/t.inertia*S,t.anglePrev=t.angle,t.angle+=t.angularVelocity,t.speed=r.magnitude(t.velocity),t.angularSpeed=Math.abs(t.angularVelocity);for(var m=0;m<t.parts.length;m++){var C=t.parts[m];s.translate(C.vertices,t.velocity),m>0&&(C.position.x+=t.velocity.x,C.position.y+=t.velocity.y),t.angularVelocity!==0&&(s.rotate(C.vertices,t.angularVelocity,t.position),v.rotate(C.axes,t.angularVelocity),m>0&&r.rotateAbout(C.position,t.angularVelocity,t.position,C.position)),l.update(C.bounds,C.vertices,t.velocity)}},e.applyForce=function(t,c,g){t.force.x+=g.x,t.force.y+=g.y;var x={x:c.x-t.position.x,y:c.y-t.position.y};t.torque+=x.x*g.y-x.y*g.x},e._totalProperties=function(t){for(var c={mass:0,area:0,inertia:0,centre:{x:0,y:0}},g=t.parts.length===1?0:1;g<t.parts.length;g++){var x=t.parts[g],S=x.mass!==1/0?x.mass:1;c.mass+=S,c.area+=x.area,c.inertia+=x.inertia,c.centre=r.add(c.centre,r.mult(x.position,S))}return c.centre=r.div(c.centre,c.mass),c}})()},function(u,p,i){var e={};u.exports=e;var s=i(4);(function(){e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(r,n){for(var h=n*n*n,l=0;l<r.length;l++){var v=r[l],f=v.speed*v.speed+v.angularSpeed*v.angularSpeed;if(v.force.x!==0||v.force.y!==0){e.set(v,!1);continue}var t=Math.min(v.motion,f),c=Math.max(v.motion,f);v.motion=e._minBias*t+(1-e._minBias)*c,v.sleepThreshold>0&&v.motion<e._motionSleepThreshold*h?(v.sleepCounter+=1,v.sleepCounter>=v.sleepThreshold&&e.set(v,!0)):v.sleepCounter>0&&(v.sleepCounter-=1)}},e.afterCollisions=function(r,n){for(var h=n*n*n,l=0;l<r.length;l++){var v=r[l];if(!!v.isActive){var f=v.collision,t=f.bodyA.parent,c=f.bodyB.parent;if(!(t.isSleeping&&c.isSleeping||t.isStatic||c.isStatic)&&(t.isSleeping||c.isSleeping)){var g=t.isSleeping&&!t.isStatic?t:c,x=g===t?c:t;!g.isStatic&&x.motion>e._motionWakeThreshold*h&&e.set(g,!1)}}}},e.set=function(r,n){var h=r.isSleeping;n?(r.isSleeping=!0,r.sleepCounter=r.sleepThreshold,r.positionImpulse.x=0,r.positionImpulse.y=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.speed=0,r.angularSpeed=0,r.motion=0,h||s.trigger(r,"sleepStart")):(r.isSleeping=!1,r.sleepCounter=0,h&&s.trigger(r,"sleepEnd"))}})()},function(u,p,i){var e={};u.exports=e;var s=i(3),r=i(9);(function(){var n=[],h={overlap:0,axis:null},l={overlap:0,axis:null};e.create=function(v,f){return{pair:null,collided:!1,bodyA:v,bodyB:f,parentA:v.parent,parentB:f.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},e.collides=function(v,f,t){if(e._overlapAxes(h,v.vertices,f.vertices,v.axes),h.overlap<=0||(e._overlapAxes(l,f.vertices,v.vertices,f.axes),l.overlap<=0))return null;var c=t&&t.table[r.id(v,f)],g;c?g=c.collision:(g=e.create(v,f),g.collided=!0,g.bodyA=v.id<f.id?v:f,g.bodyB=v.id<f.id?f:v,g.parentA=g.bodyA.parent,g.parentB=g.bodyB.parent),v=g.bodyA,f=g.bodyB;var x;h.overlap<l.overlap?x=h:x=l;var S=g.normal,M=g.supports,E=x.axis,d=E.x,m=E.y;d*(f.position.x-v.position.x)+m*(f.position.y-v.position.y)<0?(S.x=d,S.y=m):(S.x=-d,S.y=-m),g.tangent.x=-S.y,g.tangent.y=S.x,g.depth=x.overlap,g.penetration.x=S.x*g.depth,g.penetration.y=S.y*g.depth;var C=e._findSupports(v,f,S,1),y=0;if(s.contains(v.vertices,C[0])&&(M[y++]=C[0]),s.contains(v.vertices,C[1])&&(M[y++]=C[1]),y<2){var T=e._findSupports(f,v,S,-1);s.contains(f.vertices,T[0])&&(M[y++]=T[0]),y<2&&s.contains(f.vertices,T[1])&&(M[y++]=T[1])}return y===0&&(M[y++]=C[0]),M.length=y,g},e._overlapAxes=function(v,f,t,c){var g=f.length,x=t.length,S=f[0].x,M=f[0].y,E=t[0].x,d=t[0].y,m=c.length,C=Number.MAX_VALUE,y=0,T,P,A,w,I,k;for(I=0;I<m;I++){var O=c[I],L=O.x,B=O.y,V=S*L+M*B,H=E*L+d*B,D=V,W=H;for(k=1;k<g;k+=1)w=f[k].x*L+f[k].y*B,w>D?D=w:w<V&&(V=w);for(k=1;k<x;k+=1)w=t[k].x*L+t[k].y*B,w>W?W=w:w<H&&(H=w);if(P=D-H,A=W-V,T=P<A?P:A,T<C&&(C=T,y=I,T<=0))break}v.axis=c[y],v.overlap=C},e._projectToAxis=function(v,f,t){for(var c=f[0].x*t.x+f[0].y*t.y,g=c,x=1;x<f.length;x+=1){var S=f[x].x*t.x+f[x].y*t.y;S>g?g=S:S<c&&(c=S)}v.min=c,v.max=g},e._findSupports=function(v,f,t,c){var g=f.vertices,x=g.length,S=v.position.x,M=v.position.y,E=t.x*c,d=t.y*c,m=Number.MAX_VALUE,C,y,T,P,A;for(A=0;A<x;A+=1)y=g[A],P=E*(S-y.x)+d*(M-y.y),P<m&&(m=P,C=y);return T=g[(x+C.index-1)%x],m=E*(S-T.x)+d*(M-T.y),y=g[(C.index+1)%x],E*(S-y.x)+d*(M-y.y)<m?(n[0]=C,n[1]=y,n):(n[0]=C,n[1]=T,n)}})()},function(u,p,i){var e={};u.exports=e;var s=i(17);(function(){e.create=function(r,n){var h=r.bodyA,l=r.bodyB,v={id:e.id(h,l),bodyA:h,bodyB:l,collision:r,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:h.isSensor||l.isSensor,timeCreated:n,timeUpdated:n,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return e.update(v,r,n),v},e.update=function(r,n,h){var l=r.contacts,v=n.supports,f=r.activeContacts,t=n.parentA,c=n.parentB,g=t.vertices.length;r.isActive=!0,r.timeUpdated=h,r.collision=n,r.separation=n.depth,r.inverseMass=t.inverseMass+c.inverseMass,r.friction=t.friction<c.friction?t.friction:c.friction,r.frictionStatic=t.frictionStatic>c.frictionStatic?t.frictionStatic:c.frictionStatic,r.restitution=t.restitution>c.restitution?t.restitution:c.restitution,r.slop=t.slop>c.slop?t.slop:c.slop,n.pair=r,f.length=0;for(var x=0;x<v.length;x++){var S=v[x],M=S.body===t?S.index:g+S.index,E=l[M];E?f.push(E):f.push(l[M]=s.create(S))}},e.setActive=function(r,n,h){n?(r.isActive=!0,r.timeUpdated=h):(r.isActive=!1,r.activeContacts.length=0)},e.id=function(r,n){return r.id<n.id?"A"+r.id+"B"+n.id:"A"+n.id+"B"+r.id}})()},function(u,p,i){var e={};u.exports=e;var s=i(3),r=i(2),n=i(7),h=i(1),l=i(11),v=i(0);(function(){e._warming=.4,e._torqueDampen=1,e._minLength=1e-6,e.create=function(f){var t=f;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var c=t.bodyA?r.add(t.bodyA.position,t.pointA):t.pointA,g=t.bodyB?r.add(t.bodyB.position,t.pointB):t.pointB,x=r.magnitude(r.sub(c,g));t.length=typeof t.length!="undefined"?t.length:x,t.id=t.id||v.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var S={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return t.length===0&&t.stiffness>.1?(S.type="pin",S.anchors=!1):t.stiffness<.9&&(S.type="spring"),t.render=v.extend(S,t.render),t},e.preSolveAll=function(f){for(var t=0;t<f.length;t+=1){var c=f[t],g=c.constraintImpulse;c.isStatic||g.x===0&&g.y===0&&g.angle===0||(c.position.x+=g.x,c.position.y+=g.y,c.angle+=g.angle)}},e.solveAll=function(f,t){for(var c=0;c<f.length;c+=1){var g=f[c],x=!g.bodyA||g.bodyA&&g.bodyA.isStatic,S=!g.bodyB||g.bodyB&&g.bodyB.isStatic;(x||S)&&e.solve(f[c],t)}for(c=0;c<f.length;c+=1)g=f[c],x=!g.bodyA||g.bodyA&&g.bodyA.isStatic,S=!g.bodyB||g.bodyB&&g.bodyB.isStatic,!x&&!S&&e.solve(f[c],t)},e.solve=function(f,t){var c=f.bodyA,g=f.bodyB,x=f.pointA,S=f.pointB;if(!(!c&&!g)){c&&!c.isStatic&&(r.rotate(x,c.angle-f.angleA,x),f.angleA=c.angle),g&&!g.isStatic&&(r.rotate(S,g.angle-f.angleB,S),f.angleB=g.angle);var M=x,E=S;if(c&&(M=r.add(c.position,x)),g&&(E=r.add(g.position,S)),!(!M||!E)){var d=r.sub(M,E),m=r.magnitude(d);m<e._minLength&&(m=e._minLength);var C=(m-f.length)/m,y=f.stiffness<1?f.stiffness*t:f.stiffness,T=r.mult(d,C*y),P=(c?c.inverseMass:0)+(g?g.inverseMass:0),A=(c?c.inverseInertia:0)+(g?g.inverseInertia:0),w=P+A,I,k,O,L,B;if(f.damping){var V=r.create();O=r.div(d,m),B=r.sub(g&&r.sub(g.position,g.positionPrev)||V,c&&r.sub(c.position,c.positionPrev)||V),L=r.dot(O,B)}c&&!c.isStatic&&(k=c.inverseMass/P,c.constraintImpulse.x-=T.x*k,c.constraintImpulse.y-=T.y*k,c.position.x-=T.x*k,c.position.y-=T.y*k,f.damping&&(c.positionPrev.x-=f.damping*O.x*L*k,c.positionPrev.y-=f.damping*O.y*L*k),I=r.cross(x,T)/w*e._torqueDampen*c.inverseInertia*(1-f.angularStiffness),c.constraintImpulse.angle-=I,c.angle-=I),g&&!g.isStatic&&(k=g.inverseMass/P,g.constraintImpulse.x+=T.x*k,g.constraintImpulse.y+=T.y*k,g.position.x+=T.x*k,g.position.y+=T.y*k,f.damping&&(g.positionPrev.x+=f.damping*O.x*L*k,g.positionPrev.y+=f.damping*O.y*L*k),I=r.cross(S,T)/w*e._torqueDampen*g.inverseInertia*(1-f.angularStiffness),g.constraintImpulse.angle+=I,g.angle+=I)}}},e.postSolveAll=function(f){for(var t=0;t<f.length;t++){var c=f[t],g=c.constraintImpulse;if(!(c.isStatic||g.x===0&&g.y===0&&g.angle===0)){n.set(c,!1);for(var x=0;x<c.parts.length;x++){var S=c.parts[x];s.translate(S.vertices,g),x>0&&(S.position.x+=g.x,S.position.y+=g.y),g.angle!==0&&(s.rotate(S.vertices,g.angle,c.position),l.rotate(S.axes,g.angle),x>0&&r.rotateAbout(S.position,g.angle,c.position,S.position)),h.update(S.bounds,S.vertices,c.velocity)}g.angle*=e._warming,g.x*=e._warming,g.y*=e._warming}}},e.pointAWorld=function(f){return{x:(f.bodyA?f.bodyA.position.x:0)+f.pointA.x,y:(f.bodyA?f.bodyA.position.y:0)+f.pointA.y}},e.pointBWorld=function(f){return{x:(f.bodyB?f.bodyB.position.x:0)+f.pointB.x,y:(f.bodyB?f.bodyB.position.y:0)+f.pointB.y}}})()},function(u,p,i){var e={};u.exports=e;var s=i(2),r=i(0);(function(){e.fromVertices=function(n){for(var h={},l=0;l<n.length;l++){var v=(l+1)%n.length,f=s.normalise({x:n[v].y-n[l].y,y:n[l].x-n[v].x}),t=f.y===0?1/0:f.x/f.y;t=t.toFixed(3).toString(),h[t]=f}return r.values(h)},e.rotate=function(n,h){if(h!==0)for(var l=Math.cos(h),v=Math.sin(h),f=0;f<n.length;f++){var t=n[f],c;c=t.x*l-t.y*v,t.y=t.x*v+t.y*l,t.x=c}}})()},function(u,p,i){var e={};u.exports=e;var s=i(3),r=i(0),n=i(6),h=i(1),l=i(2);(function(){e.rectangle=function(v,f,t,c,g){g=g||{};var x={label:"Rectangle Body",position:{x:v,y:f},vertices:s.fromPath("L 0 0 L "+t+" 0 L "+t+" "+c+" L 0 "+c)};if(g.chamfer){var S=g.chamfer;x.vertices=s.chamfer(x.vertices,S.radius,S.quality,S.qualityMin,S.qualityMax),delete g.chamfer}return n.create(r.extend({},x,g))},e.trapezoid=function(v,f,t,c,g,x){x=x||{},g*=.5;var S=(1-g*2)*t,M=t*g,E=M+S,d=E+M,m;g<.5?m="L 0 0 L "+M+" "+-c+" L "+E+" "+-c+" L "+d+" 0":m="L 0 0 L "+E+" "+-c+" L "+d+" 0";var C={label:"Trapezoid Body",position:{x:v,y:f},vertices:s.fromPath(m)};if(x.chamfer){var y=x.chamfer;C.vertices=s.chamfer(C.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete x.chamfer}return n.create(r.extend({},C,x))},e.circle=function(v,f,t,c,g){c=c||{};var x={label:"Circle Body",circleRadius:t};g=g||25;var S=Math.ceil(Math.max(10,Math.min(g,t)));return S%2==1&&(S+=1),e.polygon(v,f,S,t,r.extend({},x,c))},e.polygon=function(v,f,t,c,g){if(g=g||{},t<3)return e.circle(v,f,c,g);for(var x=2*Math.PI/t,S="",M=x*.5,E=0;E<t;E+=1){var d=M+E*x,m=Math.cos(d)*c,C=Math.sin(d)*c;S+="L "+m.toFixed(3)+" "+C.toFixed(3)+" "}var y={label:"Polygon Body",position:{x:v,y:f},vertices:s.fromPath(S)};if(g.chamfer){var T=g.chamfer;y.vertices=s.chamfer(y.vertices,T.radius,T.quality,T.qualityMin,T.qualityMax),delete g.chamfer}return n.create(r.extend({},y,g))},e.fromVertices=function(v,f,t,c,g,x,S,M){var E=r.getDecomp(),d,m,C,y,T,P,A,w,I,k,O;for(d=Boolean(E&&E.quickDecomp),c=c||{},C=[],g=typeof g!="undefined"?g:!1,x=typeof x!="undefined"?x:.01,S=typeof S!="undefined"?S:10,M=typeof M!="undefined"?M:.01,r.isArray(t[0])||(t=[t]),k=0;k<t.length;k+=1)if(P=t[k],y=s.isConvex(P),T=!y,T&&!d&&r.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),y||!d)y?P=s.clockwiseSort(P):P=s.hull(P),C.push({position:{x:v,y:f},vertices:P});else{var L=P.map(function(Q){return[Q.x,Q.y]});E.makeCCW(L),x!==!1&&E.removeCollinearPoints(L,x),M!==!1&&E.removeDuplicatePoints&&E.removeDuplicatePoints(L,M);var B=E.quickDecomp(L);for(A=0;A<B.length;A++){var V=B[A],H=V.map(function(Q){return{x:Q[0],y:Q[1]}});S>0&&s.area(H)<S||C.push({position:s.centre(H),vertices:H})}}for(A=0;A<C.length;A++)C[A]=n.create(r.extend(C[A],c));if(g){var D=5;for(A=0;A<C.length;A++){var W=C[A];for(w=A+1;w<C.length;w++){var R=C[w];if(h.overlaps(W.bounds,R.bounds)){var $=W.vertices,b=R.vertices;for(I=0;I<W.vertices.length;I++)for(O=0;O<R.vertices.length;O++){var G=l.magnitudeSquared(l.sub($[(I+1)%$.length],b[O])),U=l.magnitudeSquared(l.sub($[I],b[(O+1)%b.length]));G<D&&U<D&&($[I].isInternal=!0,b[O].isInternal=!0)}}}}}return C.length>1?(m=n.create(r.extend({parts:C.slice(0)},c)),n.setPosition(m,{x:v,y:f}),m):C[0]}})()},function(u,p,i){var e={};u.exports=e;var s=i(0);(function(){e.create=function(r){var n={};return r||s.log("Mouse.create: element was undefined, defaulting to document.body","warn"),n.element=r||document.body,n.absolute={x:0,y:0},n.position={x:0,y:0},n.mousedownPosition={x:0,y:0},n.mouseupPosition={x:0,y:0},n.offset={x:0,y:0},n.scale={x:1,y:1},n.wheelDelta=0,n.button=-1,n.pixelRatio=parseInt(n.element.getAttribute("data-pixel-ratio"),10)||1,n.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},n.mousemove=function(h){var l=e._getRelativeMousePosition(h,n.element,n.pixelRatio),v=h.changedTouches;v&&(n.button=0,h.preventDefault()),n.absolute.x=l.x,n.absolute.y=l.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.sourceEvents.mousemove=h},n.mousedown=function(h){var l=e._getRelativeMousePosition(h,n.element,n.pixelRatio),v=h.changedTouches;v?(n.button=0,h.preventDefault()):n.button=h.button,n.absolute.x=l.x,n.absolute.y=l.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.mousedownPosition.x=n.position.x,n.mousedownPosition.y=n.position.y,n.sourceEvents.mousedown=h},n.mouseup=function(h){var l=e._getRelativeMousePosition(h,n.element,n.pixelRatio),v=h.changedTouches;v&&h.preventDefault(),n.button=-1,n.absolute.x=l.x,n.absolute.y=l.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.mouseupPosition.x=n.position.x,n.mouseupPosition.y=n.position.y,n.sourceEvents.mouseup=h},n.mousewheel=function(h){n.wheelDelta=Math.max(-1,Math.min(1,h.wheelDelta||-h.detail)),h.preventDefault()},e.setElement(n,n.element),n},e.setElement=function(r,n){r.element=n,n.addEventListener("mousemove",r.mousemove),n.addEventListener("mousedown",r.mousedown),n.addEventListener("mouseup",r.mouseup),n.addEventListener("mousewheel",r.mousewheel),n.addEventListener("DOMMouseScroll",r.mousewheel),n.addEventListener("touchmove",r.mousemove),n.addEventListener("touchstart",r.mousedown),n.addEventListener("touchend",r.mouseup)},e.clearSourceEvents=function(r){r.sourceEvents.mousemove=null,r.sourceEvents.mousedown=null,r.sourceEvents.mouseup=null,r.sourceEvents.mousewheel=null,r.wheelDelta=0},e.setOffset=function(r,n){r.offset.x=n.x,r.offset.y=n.y,r.position.x=r.absolute.x*r.scale.x+r.offset.x,r.position.y=r.absolute.y*r.scale.y+r.offset.y},e.setScale=function(r,n){r.scale.x=n.x,r.scale.y=n.y,r.position.x=r.absolute.x*r.scale.x+r.offset.x,r.position.y=r.absolute.y*r.scale.y+r.offset.y},e._getRelativeMousePosition=function(r,n,h){var l=n.getBoundingClientRect(),v=document.documentElement||document.body.parentNode||document.body,f=window.pageXOffset!==void 0?window.pageXOffset:v.scrollLeft,t=window.pageYOffset!==void 0?window.pageYOffset:v.scrollTop,c=r.changedTouches,g,x;return c?(g=c[0].pageX-l.left-f,x=c[0].pageY-l.top-t):(g=r.pageX-l.left-f,x=r.pageY-l.top-t),{x:g/(n.clientWidth/(n.width||n.clientWidth)*h),y:x/(n.clientHeight/(n.height||n.clientHeight)*h)}}})()},function(u,p,i){var e={};u.exports=e;var s=i(0),r=i(8);(function(){e.create=function(n){var h={bodies:[],pairs:null};return s.extend(h,n)},e.setBodies=function(n,h){n.bodies=h.slice(0)},e.clear=function(n){n.bodies=[]},e.collisions=function(n){var h=[],l=n.pairs,v=n.bodies,f=v.length,t=e.canCollide,c=r.collides,g,x;for(v.sort(e._compareBoundsX),g=0;g<f;g++){var S=v[g],M=S.bounds,E=S.bounds.max.x,d=S.bounds.max.y,m=S.bounds.min.y,C=S.isStatic||S.isSleeping,y=S.parts.length,T=y===1;for(x=g+1;x<f;x++){var P=v[x],A=P.bounds;if(A.min.x>E)break;if(!(d<A.min.y||m>A.max.y)&&!(C&&(P.isStatic||P.isSleeping))&&!!t(S.collisionFilter,P.collisionFilter)){var w=P.parts.length;if(T&&w===1){var I=c(S,P,l);I&&h.push(I)}else for(var k=y>1?1:0,O=w>1?1:0,L=k;L<y;L++)for(var B=S.parts[L],M=B.bounds,V=O;V<w;V++){var H=P.parts[V],A=H.bounds;if(!(M.min.x>A.max.x||M.max.x<A.min.x||M.max.y<A.min.y||M.min.y>A.max.y)){var I=c(B,H,l);I&&h.push(I)}}}}}return h},e.canCollide=function(n,h){return n.group===h.group&&n.group!==0?n.group>0:(n.mask&h.category)!=0&&(h.mask&n.category)!=0},e._compareBoundsX=function(n,h){return n.bounds.min.x-h.bounds.min.x}})()},function(u,p,i){var e={};u.exports=e;var s=i(0);(function(){e._registry={},e.register=function(r){if(e.isPlugin(r)||s.warn("Plugin.register:",e.toString(r),"does not implement all required fields."),r.name in e._registry){var n=e._registry[r.name],h=e.versionParse(r.version).number,l=e.versionParse(n.version).number;h>l?(s.warn("Plugin.register:",e.toString(n),"was upgraded to",e.toString(r)),e._registry[r.name]=r):h<l?s.warn("Plugin.register:",e.toString(n),"can not be downgraded to",e.toString(r)):r!==n&&s.warn("Plugin.register:",e.toString(r),"is already registered to different plugin object")}else e._registry[r.name]=r;return r},e.resolve=function(r){return e._registry[e.dependencyParse(r).name]},e.toString=function(r){return typeof r=="string"?r:(r.name||"anonymous")+"@"+(r.version||r.range||"0.0.0")},e.isPlugin=function(r){return r&&r.name&&r.version&&r.install},e.isUsed=function(r,n){return r.used.indexOf(n)>-1},e.isFor=function(r,n){var h=r.for&&e.dependencyParse(r.for);return!r.for||n.name===h.name&&e.versionSatisfies(n.version,h.range)},e.use=function(r,n){if(r.uses=(r.uses||[]).concat(n||[]),r.uses.length===0){s.warn("Plugin.use:",e.toString(r),"does not specify any dependencies to install.");return}for(var h=e.dependencies(r),l=s.topologicalSort(h),v=[],f=0;f<l.length;f+=1)if(l[f]!==r.name){var t=e.resolve(l[f]);if(!t){v.push("\u274C "+l[f]);continue}e.isUsed(r,t.name)||(e.isFor(t,r)||(s.warn("Plugin.use:",e.toString(t),"is for",t.for,"but installed on",e.toString(r)+"."),t._warned=!0),t.install?t.install(r):(s.warn("Plugin.use:",e.toString(t),"does not specify an install function."),t._warned=!0),t._warned?(v.push("\u{1F536} "+e.toString(t)),delete t._warned):v.push("\u2705 "+e.toString(t)),r.used.push(t.name))}v.length>0&&s.info(v.join("  "))},e.dependencies=function(r,n){var h=e.dependencyParse(r),l=h.name;if(n=n||{},!(l in n)){r=e.resolve(r)||r,n[l]=s.map(r.uses||[],function(f){e.isPlugin(f)&&e.register(f);var t=e.dependencyParse(f),c=e.resolve(f);return c&&!e.versionSatisfies(c.version,t.range)?(s.warn("Plugin.dependencies:",e.toString(c),"does not satisfy",e.toString(t),"used by",e.toString(h)+"."),c._warned=!0,r._warned=!0):c||(s.warn("Plugin.dependencies:",e.toString(f),"used by",e.toString(h),"could not be resolved."),r._warned=!0),t.name});for(var v=0;v<n[l].length;v+=1)e.dependencies(n[l][v],n);return n}},e.dependencyParse=function(r){if(s.isString(r)){var n=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return n.test(r)||s.warn("Plugin.dependencyParse:",r,"is not a valid dependency string."),{name:r.split("@")[0],range:r.split("@")[1]||"*"}}return{name:r.name,range:r.range||r.version}},e.versionParse=function(r){var n=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;n.test(r)||s.warn("Plugin.versionParse:",r,"is not a valid version or range.");var h=n.exec(r),l=Number(h[4]),v=Number(h[5]),f=Number(h[6]);return{isRange:Boolean(h[1]||h[2]),version:h[3],range:r,operator:h[1]||h[2]||"",major:l,minor:v,patch:f,parts:[l,v,f],prerelease:h[7],number:l*1e8+v*1e4+f}},e.versionSatisfies=function(r,n){n=n||"*";var h=e.versionParse(n),l=e.versionParse(r);if(h.isRange){if(h.operator==="*"||r==="*")return!0;if(h.operator===">")return l.number>h.number;if(h.operator===">=")return l.number>=h.number;if(h.operator==="~")return l.major===h.major&&l.minor===h.minor&&l.patch>=h.patch;if(h.operator==="^")return h.major>0?l.major===h.major&&l.number>=h.number:h.minor>0?l.minor===h.minor&&l.patch>=h.patch:l.patch===h.patch}return r===n||r==="*"}})()},function(u,p,i){var e={};u.exports=e;var s=i(0),r=i(5),n=i(1),h=i(4),l=i(2),v=i(13);(function(){var f,t;typeof window!="undefined"&&(f=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(d){window.setTimeout(function(){d(s.now())},1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),e._goodFps=30,e._goodDelta=1e3/60,e.create=function(d){var m={controller:e,engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",hasBounds:!!d.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},C=s.extend(m,d);return C.canvas&&(C.canvas.width=C.options.width||C.canvas.width,C.canvas.height=C.options.height||C.canvas.height),C.mouse=d.mouse,C.engine=d.engine,C.canvas=C.canvas||x(C.options.width,C.options.height),C.context=C.canvas.getContext("2d"),C.textures={},C.bounds=C.bounds||{min:{x:0,y:0},max:{x:C.canvas.width,y:C.canvas.height}},C.options.showBroadphase=!1,C.options.pixelRatio!==1&&e.setPixelRatio(C,C.options.pixelRatio),s.isElement(C.element)?C.element.appendChild(C.canvas):C.canvas.parentNode||s.log("Render.create: options.element was undefined, render.canvas was created but not appended","warn"),C},e.run=function(d){(function m(C){d.frameRequestId=f(m),c(d,C),e.world(d,C),(d.options.showStats||d.options.showDebug)&&e.stats(d,d.context,C),(d.options.showPerformance||d.options.showDebug)&&e.performance(d,d.context,C)})()},e.stop=function(d){t(d.frameRequestId)},e.setPixelRatio=function(d,m){var C=d.options,y=d.canvas;m==="auto"&&(m=S(y)),C.pixelRatio=m,y.setAttribute("data-pixel-ratio",m),y.width=C.width*m,y.height=C.height*m,y.style.width=C.width+"px",y.style.height=C.height+"px"},e.lookAt=function(d,m,C,y){y=typeof y!="undefined"?y:!0,m=s.isArray(m)?m:[m],C=C||{x:0,y:0};for(var T={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},P=0;P<m.length;P+=1){var A=m[P],w=A.bounds?A.bounds.min:A.min||A.position||A,I=A.bounds?A.bounds.max:A.max||A.position||A;w&&I&&(w.x<T.min.x&&(T.min.x=w.x),I.x>T.max.x&&(T.max.x=I.x),w.y<T.min.y&&(T.min.y=w.y),I.y>T.max.y&&(T.max.y=I.y))}var k=T.max.x-T.min.x+2*C.x,O=T.max.y-T.min.y+2*C.y,L=d.canvas.height,B=d.canvas.width,V=B/L,H=k/O,D=1,W=1;H>V?W=H/V:D=V/H,d.options.hasBounds=!0,d.bounds.min.x=T.min.x,d.bounds.max.x=T.min.x+k*D,d.bounds.min.y=T.min.y,d.bounds.max.y=T.min.y+O*W,y&&(d.bounds.min.x+=k*.5-k*D*.5,d.bounds.max.x+=k*.5-k*D*.5,d.bounds.min.y+=O*.5-O*W*.5,d.bounds.max.y+=O*.5-O*W*.5),d.bounds.min.x-=C.x,d.bounds.max.x-=C.x,d.bounds.min.y-=C.y,d.bounds.max.y-=C.y,d.mouse&&(v.setScale(d.mouse,{x:(d.bounds.max.x-d.bounds.min.x)/d.canvas.width,y:(d.bounds.max.y-d.bounds.min.y)/d.canvas.height}),v.setOffset(d.mouse,d.bounds.min))},e.startViewTransform=function(d){var m=d.bounds.max.x-d.bounds.min.x,C=d.bounds.max.y-d.bounds.min.y,y=m/d.options.width,T=C/d.options.height;d.context.setTransform(d.options.pixelRatio/y,0,0,d.options.pixelRatio/T,0,0),d.context.translate(-d.bounds.min.x,-d.bounds.min.y)},e.endViewTransform=function(d){d.context.setTransform(d.options.pixelRatio,0,0,d.options.pixelRatio,0,0)},e.world=function(d,m){var C=s.now(),y=d.engine,T=y.world,P=d.canvas,A=d.context,w=d.options,I=d.timing,k=r.allBodies(T),O=r.allConstraints(T),L=w.wireframes?w.wireframeBackground:w.background,B=[],V=[],H,D={timestamp:y.timing.timestamp};if(h.trigger(d,"beforeRender",D),d.currentBackground!==L&&E(d,L),A.globalCompositeOperation="source-in",A.fillStyle="transparent",A.fillRect(0,0,P.width,P.height),A.globalCompositeOperation="source-over",w.hasBounds){for(H=0;H<k.length;H++){var W=k[H];n.overlaps(W.bounds,d.bounds)&&B.push(W)}for(H=0;H<O.length;H++){var R=O[H],$=R.bodyA,b=R.bodyB,G=R.pointA,U=R.pointB;$&&(G=l.add($.position,R.pointA)),b&&(U=l.add(b.position,R.pointB)),!(!G||!U)&&(n.contains(d.bounds,G)||n.contains(d.bounds,U))&&V.push(R)}e.startViewTransform(d),d.mouse&&(v.setScale(d.mouse,{x:(d.bounds.max.x-d.bounds.min.x)/d.options.width,y:(d.bounds.max.y-d.bounds.min.y)/d.options.height}),v.setOffset(d.mouse,d.bounds.min))}else V=O,B=k,d.options.pixelRatio!==1&&d.context.setTransform(d.options.pixelRatio,0,0,d.options.pixelRatio,0,0);!w.wireframes||y.enableSleeping&&w.showSleeping?e.bodies(d,B,A):(w.showConvexHulls&&e.bodyConvexHulls(d,B,A),e.bodyWireframes(d,B,A)),w.showBounds&&e.bodyBounds(d,B,A),(w.showAxes||w.showAngleIndicator)&&e.bodyAxes(d,B,A),w.showPositions&&e.bodyPositions(d,B,A),w.showVelocity&&e.bodyVelocity(d,B,A),w.showIds&&e.bodyIds(d,B,A),w.showSeparations&&e.separations(d,y.pairs.list,A),w.showCollisions&&e.collisions(d,y.pairs.list,A),w.showVertexNumbers&&e.vertexNumbers(d,B,A),w.showMousePosition&&e.mousePosition(d,d.mouse,A),e.constraints(V,A),w.hasBounds&&e.endViewTransform(d),h.trigger(d,"afterRender",D),I.lastElapsed=s.now()-C},e.stats=function(d,m,C){for(var y=d.engine,T=y.world,P=r.allBodies(T),A=0,w=55,I=44,k=0,O=0,L=0;L<P.length;L+=1)A+=P[L].parts.length;var B={Part:A,Body:P.length,Cons:r.allConstraints(T).length,Comp:r.allComposites(T).length,Pair:y.pairs.list.length};m.fillStyle="#0e0f19",m.fillRect(k,O,w*5.5,I),m.font="12px Arial",m.textBaseline="top",m.textAlign="right";for(var V in B){var H=B[V];m.fillStyle="#aaa",m.fillText(V,k+w,O+8),m.fillStyle="#eee",m.fillText(H,k+w,O+26),k+=w}},e.performance=function(d,m){var C=d.engine,y=d.timing,T=y.deltaHistory,P=y.elapsedHistory,A=y.timestampElapsedHistory,w=y.engineDeltaHistory,I=y.engineElapsedHistory,k=C.timing.lastDelta,O=g(T),L=g(P),B=g(w),V=g(I),H=g(A),D=H/O||0,W=1e3/O||0,R=4,$=12,b=60,G=34,U=10,Q=69;m.fillStyle="#0e0f19",m.fillRect(0,50,$*4+b*5+22,G),e.status(m,U,Q,b,R,T.length,Math.round(W)+" fps",W/e._goodFps,function(K){return T[K]/O-1}),e.status(m,U+$+b,Q,b,R,w.length,k.toFixed(2)+" dt",e._goodDelta/k,function(K){return w[K]/B-1}),e.status(m,U+($+b)*2,Q,b,R,I.length,V.toFixed(2)+" ut",1-V/e._goodFps,function(K){return I[K]/V-1}),e.status(m,U+($+b)*3,Q,b,R,P.length,L.toFixed(2)+" rt",1-L/e._goodFps,function(K){return P[K]/L-1}),e.status(m,U+($+b)*4,Q,b,R,A.length,D.toFixed(2)+" x",D*D*D,function(K){return(A[K]/T[K]/D||0)-1})},e.status=function(d,m,C,y,T,P,A,w,I){d.strokeStyle="#888",d.fillStyle="#444",d.lineWidth=1,d.fillRect(m,C+7,y,1),d.beginPath(),d.moveTo(m,C+7-T*s.clamp(.4*I(0),-2,2));for(var k=0;k<y;k+=1)d.lineTo(m+k,C+7-(k<P?T*s.clamp(.4*I(k),-2,2):0));d.stroke(),d.fillStyle="hsl("+s.clamp(25+95*w,0,120)+",100%,60%)",d.fillRect(m,C-7,4,4),d.font="12px Arial",d.textBaseline="middle",d.textAlign="right",d.fillStyle="#eee",d.fillText(A,m+y,C-5)},e.constraints=function(d,m){for(var C=m,y=0;y<d.length;y++){var T=d[y];if(!(!T.render.visible||!T.pointA||!T.pointB)){var P=T.bodyA,A=T.bodyB,w,I;if(P?w=l.add(P.position,T.pointA):w=T.pointA,T.render.type==="pin")C.beginPath(),C.arc(w.x,w.y,3,0,2*Math.PI),C.closePath();else{if(A?I=l.add(A.position,T.pointB):I=T.pointB,C.beginPath(),C.moveTo(w.x,w.y),T.render.type==="spring")for(var k=l.sub(I,w),O=l.perp(l.normalise(k)),L=Math.ceil(s.clamp(T.length/5,12,20)),B,V=1;V<L;V+=1)B=V%2==0?1:-1,C.lineTo(w.x+k.x*(V/L)+O.x*B*4,w.y+k.y*(V/L)+O.y*B*4);C.lineTo(I.x,I.y)}T.render.lineWidth&&(C.lineWidth=T.render.lineWidth,C.strokeStyle=T.render.strokeStyle,C.stroke()),T.render.anchors&&(C.fillStyle=T.render.strokeStyle,C.beginPath(),C.arc(w.x,w.y,3,0,2*Math.PI),C.arc(I.x,I.y,3,0,2*Math.PI),C.closePath(),C.fill())}}},e.bodies=function(d,m,C){var y=C;d.engine;var T=d.options,P=T.showInternalEdges||!T.wireframes,A,w,I,k;for(I=0;I<m.length;I++)if(A=m[I],!!A.render.visible){for(k=A.parts.length>1?1:0;k<A.parts.length;k++)if(w=A.parts[k],!!w.render.visible){if(T.showSleeping&&A.isSleeping?y.globalAlpha=.5*w.render.opacity:w.render.opacity!==1&&(y.globalAlpha=w.render.opacity),w.render.sprite&&w.render.sprite.texture&&!T.wireframes){var O=w.render.sprite,L=M(d,O.texture);y.translate(w.position.x,w.position.y),y.rotate(w.angle),y.drawImage(L,L.width*-O.xOffset*O.xScale,L.height*-O.yOffset*O.yScale,L.width*O.xScale,L.height*O.yScale),y.rotate(-w.angle),y.translate(-w.position.x,-w.position.y)}else{if(w.circleRadius)y.beginPath(),y.arc(w.position.x,w.position.y,w.circleRadius,0,2*Math.PI);else{y.beginPath(),y.moveTo(w.vertices[0].x,w.vertices[0].y);for(var B=1;B<w.vertices.length;B++)!w.vertices[B-1].isInternal||P?y.lineTo(w.vertices[B].x,w.vertices[B].y):y.moveTo(w.vertices[B].x,w.vertices[B].y),w.vertices[B].isInternal&&!P&&y.moveTo(w.vertices[(B+1)%w.vertices.length].x,w.vertices[(B+1)%w.vertices.length].y);y.lineTo(w.vertices[0].x,w.vertices[0].y),y.closePath()}T.wireframes?(y.lineWidth=1,y.strokeStyle="#bbb",y.stroke()):(y.fillStyle=w.render.fillStyle,w.render.lineWidth&&(y.lineWidth=w.render.lineWidth,y.strokeStyle=w.render.strokeStyle,y.stroke()),y.fill())}y.globalAlpha=1}}},e.bodyWireframes=function(d,m,C){var y=C,T=d.options.showInternalEdges,P,A,w,I,k;for(y.beginPath(),w=0;w<m.length;w++)if(P=m[w],!!P.render.visible)for(k=P.parts.length>1?1:0;k<P.parts.length;k++){for(A=P.parts[k],y.moveTo(A.vertices[0].x,A.vertices[0].y),I=1;I<A.vertices.length;I++)!A.vertices[I-1].isInternal||T?y.lineTo(A.vertices[I].x,A.vertices[I].y):y.moveTo(A.vertices[I].x,A.vertices[I].y),A.vertices[I].isInternal&&!T&&y.moveTo(A.vertices[(I+1)%A.vertices.length].x,A.vertices[(I+1)%A.vertices.length].y);y.lineTo(A.vertices[0].x,A.vertices[0].y)}y.lineWidth=1,y.strokeStyle="#bbb",y.stroke()},e.bodyConvexHulls=function(d,m,C){var y=C,T,P,A;for(y.beginPath(),P=0;P<m.length;P++)if(T=m[P],!(!T.render.visible||T.parts.length===1)){for(y.moveTo(T.vertices[0].x,T.vertices[0].y),A=1;A<T.vertices.length;A++)y.lineTo(T.vertices[A].x,T.vertices[A].y);y.lineTo(T.vertices[0].x,T.vertices[0].y)}y.lineWidth=1,y.strokeStyle="rgba(255,255,255,0.2)",y.stroke()},e.vertexNumbers=function(d,m,C){var y=C,T,P,A;for(T=0;T<m.length;T++){var w=m[T].parts;for(A=w.length>1?1:0;A<w.length;A++){var I=w[A];for(P=0;P<I.vertices.length;P++)y.fillStyle="rgba(255,255,255,0.2)",y.fillText(T+"_"+P,I.position.x+(I.vertices[P].x-I.position.x)*.8,I.position.y+(I.vertices[P].y-I.position.y)*.8)}}},e.mousePosition=function(d,m,C){var y=C;y.fillStyle="rgba(255,255,255,0.8)",y.fillText(m.position.x+"  "+m.position.y,m.position.x+5,m.position.y-5)},e.bodyBounds=function(d,m,C){var y=C;d.engine;var T=d.options;y.beginPath();for(var P=0;P<m.length;P++){var A=m[P];if(A.render.visible)for(var w=m[P].parts,I=w.length>1?1:0;I<w.length;I++){var k=w[I];y.rect(k.bounds.min.x,k.bounds.min.y,k.bounds.max.x-k.bounds.min.x,k.bounds.max.y-k.bounds.min.y)}}T.wireframes?y.strokeStyle="rgba(255,255,255,0.08)":y.strokeStyle="rgba(0,0,0,0.1)",y.lineWidth=1,y.stroke()},e.bodyAxes=function(d,m,C){var y=C;d.engine;var T=d.options,P,A,w,I;for(y.beginPath(),A=0;A<m.length;A++){var k=m[A],O=k.parts;if(!!k.render.visible)if(T.showAxes)for(w=O.length>1?1:0;w<O.length;w++)for(P=O[w],I=0;I<P.axes.length;I++){var L=P.axes[I];y.moveTo(P.position.x,P.position.y),y.lineTo(P.position.x+L.x*20,P.position.y+L.y*20)}else for(w=O.length>1?1:0;w<O.length;w++)for(P=O[w],I=0;I<P.axes.length;I++)y.moveTo(P.position.x,P.position.y),y.lineTo((P.vertices[0].x+P.vertices[P.vertices.length-1].x)/2,(P.vertices[0].y+P.vertices[P.vertices.length-1].y)/2)}T.wireframes?(y.strokeStyle="indianred",y.lineWidth=1):(y.strokeStyle="rgba(255, 255, 255, 0.4)",y.globalCompositeOperation="overlay",y.lineWidth=2),y.stroke(),y.globalCompositeOperation="source-over"},e.bodyPositions=function(d,m,C){var y=C;d.engine;var T=d.options,P,A,w,I;for(y.beginPath(),w=0;w<m.length;w++)if(P=m[w],!!P.render.visible)for(I=0;I<P.parts.length;I++)A=P.parts[I],y.arc(A.position.x,A.position.y,3,0,2*Math.PI,!1),y.closePath();for(T.wireframes?y.fillStyle="indianred":y.fillStyle="rgba(0,0,0,0.5)",y.fill(),y.beginPath(),w=0;w<m.length;w++)P=m[w],P.render.visible&&(y.arc(P.positionPrev.x,P.positionPrev.y,2,0,2*Math.PI,!1),y.closePath());y.fillStyle="rgba(255,165,0,0.8)",y.fill()},e.bodyVelocity=function(d,m,C){var y=C;y.beginPath();for(var T=0;T<m.length;T++){var P=m[T];!P.render.visible||(y.moveTo(P.position.x,P.position.y),y.lineTo(P.position.x+(P.position.x-P.positionPrev.x)*2,P.position.y+(P.position.y-P.positionPrev.y)*2))}y.lineWidth=3,y.strokeStyle="cornflowerblue",y.stroke()},e.bodyIds=function(d,m,C){var y=C,T,P;for(T=0;T<m.length;T++)if(!!m[T].render.visible){var A=m[T].parts;for(P=A.length>1?1:0;P<A.length;P++){var w=A[P];y.font="12px Arial",y.fillStyle="rgba(255,255,255,0.5)",y.fillText(w.id,w.position.x+10,w.position.y-10)}}},e.collisions=function(d,m,C){var y=C,T=d.options,P,A,w,I;for(y.beginPath(),w=0;w<m.length;w++)if(P=m[w],!!P.isActive)for(A=P.collision,I=0;I<P.activeContacts.length;I++){var k=P.activeContacts[I],O=k.vertex;y.rect(O.x-1.5,O.y-1.5,3.5,3.5)}for(T.wireframes?y.fillStyle="rgba(255,255,255,0.7)":y.fillStyle="orange",y.fill(),y.beginPath(),w=0;w<m.length;w++)if(P=m[w],!!P.isActive&&(A=P.collision,P.activeContacts.length>0)){var L=P.activeContacts[0].vertex.x,B=P.activeContacts[0].vertex.y;P.activeContacts.length===2&&(L=(P.activeContacts[0].vertex.x+P.activeContacts[1].vertex.x)/2,B=(P.activeContacts[0].vertex.y+P.activeContacts[1].vertex.y)/2),A.bodyB===A.supports[0].body||A.bodyA.isStatic===!0?y.moveTo(L-A.normal.x*8,B-A.normal.y*8):y.moveTo(L+A.normal.x*8,B+A.normal.y*8),y.lineTo(L,B)}T.wireframes?y.strokeStyle="rgba(255,165,0,0.7)":y.strokeStyle="orange",y.lineWidth=1,y.stroke()},e.separations=function(d,m,C){var y=C,T=d.options,P,A,w,I,k;for(y.beginPath(),k=0;k<m.length;k++)if(P=m[k],!!P.isActive){A=P.collision,w=A.bodyA,I=A.bodyB;var O=1;!I.isStatic&&!w.isStatic&&(O=.5),I.isStatic&&(O=0),y.moveTo(I.position.x,I.position.y),y.lineTo(I.position.x-A.penetration.x*O,I.position.y-A.penetration.y*O),O=1,!I.isStatic&&!w.isStatic&&(O=.5),w.isStatic&&(O=0),y.moveTo(w.position.x,w.position.y),y.lineTo(w.position.x+A.penetration.x*O,w.position.y+A.penetration.y*O)}T.wireframes?y.strokeStyle="rgba(255,165,0,0.5)":y.strokeStyle="orange",y.stroke()},e.inspector=function(d,m){d.engine;var C=d.selected,y=d.render,T=y.options,P;if(T.hasBounds){var A=y.bounds.max.x-y.bounds.min.x,w=y.bounds.max.y-y.bounds.min.y,I=A/y.options.width,k=w/y.options.height;m.scale(1/I,1/k),m.translate(-y.bounds.min.x,-y.bounds.min.y)}for(var O=0;O<C.length;O++){var L=C[O].data;switch(m.translate(.5,.5),m.lineWidth=1,m.strokeStyle="rgba(255,165,0,0.9)",m.setLineDash([1,2]),L.type){case"body":P=L.bounds,m.beginPath(),m.rect(Math.floor(P.min.x-3),Math.floor(P.min.y-3),Math.floor(P.max.x-P.min.x+6),Math.floor(P.max.y-P.min.y+6)),m.closePath(),m.stroke();break;case"constraint":var B=L.pointA;L.bodyA&&(B=L.pointB),m.beginPath(),m.arc(B.x,B.y,10,0,2*Math.PI),m.closePath(),m.stroke();break}m.setLineDash([]),m.translate(-.5,-.5)}d.selectStart!==null&&(m.translate(.5,.5),m.lineWidth=1,m.strokeStyle="rgba(255,165,0,0.6)",m.fillStyle="rgba(255,165,0,0.1)",P=d.selectBounds,m.beginPath(),m.rect(Math.floor(P.min.x),Math.floor(P.min.y),Math.floor(P.max.x-P.min.x),Math.floor(P.max.y-P.min.y)),m.closePath(),m.stroke(),m.fill(),m.translate(-.5,-.5)),T.hasBounds&&m.setTransform(1,0,0,1,0,0)};var c=function(d,m){var C=d.engine,y=d.timing,T=y.historySize,P=C.timing.timestamp;y.delta=m-y.lastTime||e._goodDelta,y.lastTime=m,y.timestampElapsed=P-y.lastTimestamp||0,y.lastTimestamp=P,y.deltaHistory.unshift(y.delta),y.deltaHistory.length=Math.min(y.deltaHistory.length,T),y.engineDeltaHistory.unshift(C.timing.lastDelta),y.engineDeltaHistory.length=Math.min(y.engineDeltaHistory.length,T),y.timestampElapsedHistory.unshift(y.timestampElapsed),y.timestampElapsedHistory.length=Math.min(y.timestampElapsedHistory.length,T),y.engineElapsedHistory.unshift(C.timing.lastElapsed),y.engineElapsedHistory.length=Math.min(y.engineElapsedHistory.length,T),y.elapsedHistory.unshift(y.lastElapsed),y.elapsedHistory.length=Math.min(y.elapsedHistory.length,T)},g=function(d){for(var m=0,C=0;C<d.length;C+=1)m+=d[C];return m/d.length||0},x=function(d,m){var C=document.createElement("canvas");return C.width=d,C.height=m,C.oncontextmenu=function(){return!1},C.onselectstart=function(){return!1},C},S=function(d){var m=d.getContext("2d"),C=window.devicePixelRatio||1,y=m.webkitBackingStorePixelRatio||m.mozBackingStorePixelRatio||m.msBackingStorePixelRatio||m.oBackingStorePixelRatio||m.backingStorePixelRatio||1;return C/y},M=function(d,m){var C=d.textures[m];return C||(C=d.textures[m]=new Image,C.src=m,C)},E=function(d,m){var C=m;/(jpg|gif|png)$/.test(m)&&(C="url("+m+")"),d.canvas.style.background=C,d.canvas.style.backgroundSize="contain",d.currentBackground=m}})()},function(u,p){var i={};u.exports=i,function(){i.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}}()},function(u,p,i){var e={};u.exports=e;var s=i(7),r=i(19),n=i(14),h=i(20),l=i(4),v=i(5),f=i(10),t=i(0),c=i(6);(function(){e.create=function(g){g=g||{};var x={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},S=t.extend(x,g);return S.world=g.world||v.create({label:"World"}),S.pairs=g.pairs||h.create(),S.detector=g.detector||n.create(),S.grid={buckets:[]},S.world.gravity=S.gravity,S.broadphase=S.grid,S.metrics={},S},e.update=function(g,x,S){var M=t.now();x=x||1e3/60,S=S||1;var E=g.world,d=g.detector,m=g.pairs,C=g.timing,y=C.timestamp,T;C.timestamp+=x*C.timeScale,C.lastDelta=x*C.timeScale;var P={timestamp:C.timestamp};l.trigger(g,"beforeUpdate",P);var A=v.allBodies(E),w=v.allConstraints(E);for(E.isModified&&n.setBodies(d,A),E.isModified&&v.setModified(E,!1,!1,!0),g.enableSleeping&&s.update(A,C.timeScale),e._bodiesApplyGravity(A,g.gravity),e._bodiesUpdate(A,x,C.timeScale,S,E.bounds),f.preSolveAll(A),T=0;T<g.constraintIterations;T++)f.solveAll(w,C.timeScale);f.postSolveAll(A),d.pairs=g.pairs;var I=n.collisions(d);for(h.update(m,I,y),g.enableSleeping&&s.afterCollisions(m.list,C.timeScale),m.collisionStart.length>0&&l.trigger(g,"collisionStart",{pairs:m.collisionStart}),r.preSolvePosition(m.list),T=0;T<g.positionIterations;T++)r.solvePosition(m.list,C.timeScale);for(r.postSolvePosition(A),f.preSolveAll(A),T=0;T<g.constraintIterations;T++)f.solveAll(w,C.timeScale);for(f.postSolveAll(A),r.preSolveVelocity(m.list),T=0;T<g.velocityIterations;T++)r.solveVelocity(m.list,C.timeScale);return m.collisionActive.length>0&&l.trigger(g,"collisionActive",{pairs:m.collisionActive}),m.collisionEnd.length>0&&l.trigger(g,"collisionEnd",{pairs:m.collisionEnd}),e._bodiesClearForces(A),l.trigger(g,"afterUpdate",P),g.timing.lastElapsed=t.now()-M,g},e.merge=function(g,x){if(t.extend(g,x),x.world){g.world=x.world,e.clear(g);for(var S=v.allBodies(g.world),M=0;M<S.length;M++){var E=S[M];s.set(E,!1),E.id=t.nextId()}}},e.clear=function(g){h.clear(g.pairs),n.clear(g.detector)},e._bodiesClearForces=function(g){for(var x=0;x<g.length;x++){var S=g[x];S.force.x=0,S.force.y=0,S.torque=0}},e._bodiesApplyGravity=function(g,x){var S=typeof x.scale!="undefined"?x.scale:.001;if(!(x.x===0&&x.y===0||S===0))for(var M=0;M<g.length;M++){var E=g[M];E.isStatic||E.isSleeping||(E.force.y+=E.mass*x.y*S,E.force.x+=E.mass*x.x*S)}},e._bodiesUpdate=function(g,x,S,M,E){for(var d=0;d<g.length;d++){var m=g[d];m.isStatic||m.isSleeping||c.update(m,x,S,M)}}})()},function(u,p,i){var e={};u.exports=e;var s=i(3),r=i(1);(function(){e._restingThresh=4,e._restingThreshTangent=6,e._positionDampen=.9,e._positionWarming=.8,e._frictionNormalMultiplier=5,e.preSolvePosition=function(n){var h,l,v,f=n.length;for(h=0;h<f;h++)l=n[h],!!l.isActive&&(v=l.activeContacts.length,l.collision.parentA.totalContacts+=v,l.collision.parentB.totalContacts+=v)},e.solvePosition=function(n,h){var l,v,f,t,c,g,x,S,M=e._positionDampen,E=n.length;for(l=0;l<E;l++)v=n[l],!(!v.isActive||v.isSensor)&&(f=v.collision,t=f.parentA,c=f.parentB,g=f.normal,v.separation=g.x*(c.positionImpulse.x+f.penetration.x-t.positionImpulse.x)+g.y*(c.positionImpulse.y+f.penetration.y-t.positionImpulse.y));for(l=0;l<E;l++)v=n[l],!(!v.isActive||v.isSensor)&&(f=v.collision,t=f.parentA,c=f.parentB,g=f.normal,S=(v.separation-v.slop)*h,(t.isStatic||c.isStatic)&&(S*=2),t.isStatic||t.isSleeping||(x=M/t.totalContacts,t.positionImpulse.x+=g.x*S*x,t.positionImpulse.y+=g.y*S*x),c.isStatic||c.isSleeping||(x=M/c.totalContacts,c.positionImpulse.x-=g.x*S*x,c.positionImpulse.y-=g.y*S*x))},e.postSolvePosition=function(n){for(var h=e._positionWarming,l=n.length,v=s.translate,f=r.update,t=0;t<l;t++){var c=n[t],g=c.positionImpulse,x=g.x,S=g.y,M=c.velocity;if(c.totalContacts=0,x!==0||S!==0){for(var E=0;E<c.parts.length;E++){var d=c.parts[E];v(d.vertices,g),f(d.bounds,d.vertices,M),d.position.x+=x,d.position.y+=S}c.positionPrev.x+=x,c.positionPrev.y+=S,x*M.x+S*M.y<0?(g.x=0,g.y=0):(g.x*=h,g.y*=h)}}},e.preSolveVelocity=function(n){var h=n.length,l,v;for(l=0;l<h;l++){var f=n[l];if(!(!f.isActive||f.isSensor)){var t=f.activeContacts,c=t.length,g=f.collision,x=g.parentA,S=g.parentB,M=g.normal,E=g.tangent;for(v=0;v<c;v++){var d=t[v],m=d.vertex,C=d.normalImpulse,y=d.tangentImpulse;if(C!==0||y!==0){var T=M.x*C+E.x*y,P=M.y*C+E.y*y;x.isStatic||x.isSleeping||(x.positionPrev.x+=T*x.inverseMass,x.positionPrev.y+=P*x.inverseMass,x.anglePrev+=x.inverseInertia*((m.x-x.position.x)*P-(m.y-x.position.y)*T)),S.isStatic||S.isSleeping||(S.positionPrev.x-=T*S.inverseMass,S.positionPrev.y-=P*S.inverseMass,S.anglePrev-=S.inverseInertia*((m.x-S.position.x)*P-(m.y-S.position.y)*T))}}}}},e.solveVelocity=function(n,h){var l=h*h,v=e._restingThresh*l,f=e._frictionNormalMultiplier,t=e._restingThreshTangent*l,c=Number.MAX_VALUE,g=n.length,x,S,M,E;for(M=0;M<g;M++){var d=n[M];if(!(!d.isActive||d.isSensor)){var m=d.collision,C=m.parentA,y=m.parentB,T=C.velocity,P=y.velocity,A=m.normal.x,w=m.normal.y,I=m.tangent.x,k=m.tangent.y,O=d.activeContacts,L=O.length,B=1/L,V=C.inverseMass+y.inverseMass,H=d.friction*d.frictionStatic*f*l;for(T.x=C.position.x-C.positionPrev.x,T.y=C.position.y-C.positionPrev.y,P.x=y.position.x-y.positionPrev.x,P.y=y.position.y-y.positionPrev.y,C.angularVelocity=C.angle-C.anglePrev,y.angularVelocity=y.angle-y.anglePrev,E=0;E<L;E++){var D=O[E],W=D.vertex,R=W.x-C.position.x,$=W.y-C.position.y,b=W.x-y.position.x,G=W.y-y.position.y,U=T.x-$*C.angularVelocity,Q=T.y+R*C.angularVelocity,K=P.x-G*y.angularVelocity,cn=P.y+b*y.angularVelocity,it=U-K,st=Q-cn,he=A*it+w*st,_=I*it+k*st,rt=d.separation+he,$e=Math.min(rt,1);$e=rt<0?0:$e;var at=$e*H;_>at||-_>at?(S=_>0?_:-_,x=d.friction*(_>0?1:-1)*l,x<-S?x=-S:x>S&&(x=S)):(x=_,S=c);var ot=R*w-$*A,lt=b*w-G*A,ft=B/(V+C.inverseInertia*ot*ot+y.inverseInertia*lt*lt),Se=(1+d.restitution)*he*ft;if(x*=ft,he*he>v&&he<0)D.normalImpulse=0;else{var un=D.normalImpulse;D.normalImpulse+=Se,D.normalImpulse=Math.min(D.normalImpulse,0),Se=D.normalImpulse-un}if(_*_>t)D.tangentImpulse=0;else{var hn=D.tangentImpulse;D.tangentImpulse+=x,D.tangentImpulse<-S&&(D.tangentImpulse=-S),D.tangentImpulse>S&&(D.tangentImpulse=S),x=D.tangentImpulse-hn}var Ce=A*Se+I*x,we=w*Se+k*x;C.isStatic||C.isSleeping||(C.positionPrev.x+=Ce*C.inverseMass,C.positionPrev.y+=we*C.inverseMass,C.anglePrev+=(R*we-$*Ce)*C.inverseInertia),y.isStatic||y.isSleeping||(y.positionPrev.x-=Ce*y.inverseMass,y.positionPrev.y-=we*y.inverseMass,y.anglePrev-=(b*we-G*Ce)*y.inverseInertia)}}}}})()},function(u,p,i){var e={};u.exports=e;var s=i(9),r=i(0);(function(){e.create=function(n){return r.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},n)},e.update=function(n,h,l){var v=n.list,f=v.length,t=n.table,c=h.length,g=n.collisionStart,x=n.collisionEnd,S=n.collisionActive,M,E,d,m;for(g.length=0,x.length=0,S.length=0,m=0;m<f;m++)v[m].confirmedActive=!1;for(m=0;m<c;m++)M=h[m],d=M.pair,d?(d.isActive?S.push(d):g.push(d),s.update(d,M,l),d.confirmedActive=!0):(d=s.create(M,l),t[d.id]=d,g.push(d),v.push(d));var C=[];for(f=v.length,m=0;m<f;m++)d=v[m],d.confirmedActive||(s.setActive(d,!1,l),x.push(d),!d.collision.bodyA.isSleeping&&!d.collision.bodyB.isSleeping&&C.push(m));for(m=0;m<C.length;m++)E=C[m]-m,d=v[E],v.splice(E,1),delete t[d.id]},e.clear=function(n){return n.table={},n.list.length=0,n.collisionStart.length=0,n.collisionActive.length=0,n.collisionEnd.length=0,n}})()},function(u,p,i){var e=u.exports=i(22);e.Axes=i(11),e.Bodies=i(12),e.Body=i(6),e.Bounds=i(1),e.Collision=i(8),e.Common=i(0),e.Composite=i(5),e.Composites=i(23),e.Constraint=i(10),e.Contact=i(17),e.Detector=i(14),e.Engine=i(18),e.Events=i(4),e.Grid=i(24),e.Mouse=i(13),e.MouseConstraint=i(25),e.Pair=i(9),e.Pairs=i(20),e.Plugin=i(15),e.Query=i(26),e.Render=i(16),e.Resolver=i(19),e.Runner=i(27),e.SAT=i(28),e.Sleeping=i(7),e.Svg=i(29),e.Vector=i(2),e.Vertices=i(3),e.World=i(30),e.Engine.run=e.Runner.run,e.Common.deprecated(e.Engine,"run","Engine.run \u27A4 use Matter.Runner.run(engine) instead")},function(u,p,i){var e={};u.exports=e;var s=i(15),r=i(0);(function(){e.name="matter-js",e.version="0.18.0",e.uses=[],e.used=[],e.use=function(){s.use(e,Array.prototype.slice.call(arguments))},e.before=function(n,h){return n=n.replace(/^Matter./,""),r.chainPathBefore(e,n,h)},e.after=function(n,h){return n=n.replace(/^Matter./,""),r.chainPathAfter(e,n,h)}})()},function(u,p,i){var e={};u.exports=e;var s=i(5),r=i(10),n=i(0),h=i(6),l=i(12),v=n.deprecated;(function(){e.stack=function(f,t,c,g,x,S,M){for(var E=s.create({label:"Stack"}),d=f,m=t,C,y=0,T=0;T<g;T++){for(var P=0,A=0;A<c;A++){var w=M(d,m,A,T,C,y);if(w){var I=w.bounds.max.y-w.bounds.min.y,k=w.bounds.max.x-w.bounds.min.x;I>P&&(P=I),h.translate(w,{x:k*.5,y:I*.5}),d=w.bounds.max.x+x,s.addBody(E,w),C=w,y+=1}else d+=x}m+=P+S,d=f}return E},e.chain=function(f,t,c,g,x,S){for(var M=f.bodies,E=1;E<M.length;E++){var d=M[E-1],m=M[E],C=d.bounds.max.y-d.bounds.min.y,y=d.bounds.max.x-d.bounds.min.x,T=m.bounds.max.y-m.bounds.min.y,P=m.bounds.max.x-m.bounds.min.x,A={bodyA:d,pointA:{x:y*t,y:C*c},bodyB:m,pointB:{x:P*g,y:T*x}},w=n.extend(A,S);s.addConstraint(f,r.create(w))}return f.label+=" Chain",f},e.mesh=function(f,t,c,g,x){var S=f.bodies,M,E,d,m,C;for(M=0;M<c;M++){for(E=1;E<t;E++)d=S[E-1+M*t],m=S[E+M*t],s.addConstraint(f,r.create(n.extend({bodyA:d,bodyB:m},x)));if(M>0)for(E=0;E<t;E++)d=S[E+(M-1)*t],m=S[E+M*t],s.addConstraint(f,r.create(n.extend({bodyA:d,bodyB:m},x))),g&&E>0&&(C=S[E-1+(M-1)*t],s.addConstraint(f,r.create(n.extend({bodyA:C,bodyB:m},x)))),g&&E<t-1&&(C=S[E+1+(M-1)*t],s.addConstraint(f,r.create(n.extend({bodyA:C,bodyB:m},x))))}return f.label+=" Mesh",f},e.pyramid=function(f,t,c,g,x,S,M){return e.stack(f,t,c,g,x,S,function(E,d,m,C,y,T){var P=Math.min(g,Math.ceil(c/2)),A=y?y.bounds.max.x-y.bounds.min.x:0;if(!(C>P)){C=P-C;var w=C,I=c-1-C;if(!(m<w||m>I)){T===1&&h.translate(y,{x:(m+(c%2==1?1:-1))*A,y:0});var k=y?m*A:0;return M(f+k+m*x,d,m,C,y,T)}}})},e.newtonsCradle=function(f,t,c,g,x){for(var S=s.create({label:"Newtons Cradle"}),M=0;M<c;M++){var E=1.9,d=l.circle(f+M*(g*E),t+x,g,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),m=r.create({pointA:{x:f+M*(g*E),y:t},bodyB:d});s.addBody(S,d),s.addConstraint(S,m)}return S},v(e,"newtonsCradle","Composites.newtonsCradle \u27A4 moved to newtonsCradle example"),e.car=function(f,t,c,g,x){var S=h.nextGroup(!0),M=20,E=-c*.5+M,d=c*.5-M,m=0,C=s.create({label:"Car"}),y=l.rectangle(f,t,c,g,{collisionFilter:{group:S},chamfer:{radius:g*.5},density:2e-4}),T=l.circle(f+E,t+m,x,{collisionFilter:{group:S},friction:.8}),P=l.circle(f+d,t+m,x,{collisionFilter:{group:S},friction:.8}),A=r.create({bodyB:y,pointB:{x:E,y:m},bodyA:T,stiffness:1,length:0}),w=r.create({bodyB:y,pointB:{x:d,y:m},bodyA:P,stiffness:1,length:0});return s.addBody(C,y),s.addBody(C,T),s.addBody(C,P),s.addConstraint(C,A),s.addConstraint(C,w),C},v(e,"car","Composites.car \u27A4 moved to car example"),e.softBody=function(f,t,c,g,x,S,M,E,d,m){d=n.extend({inertia:1/0},d),m=n.extend({stiffness:.2,render:{type:"line",anchors:!1}},m);var C=e.stack(f,t,c,g,x,S,function(y,T){return l.circle(y,T,E,d)});return e.mesh(C,c,g,M,m),C.label="Soft Body",C},v(e,"softBody","Composites.softBody \u27A4 moved to softBody and cloth examples")})()},function(u,p,i){var e={};u.exports=e;var s=i(9),r=i(0),n=r.deprecated;(function(){e.create=function(h){var l={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return r.extend(l,h)},e.update=function(h,l,v,f){var t,c,g,x=v.world,S=h.buckets,M,E,d=!1;for(t=0;t<l.length;t++){var m=l[t];if(!(m.isSleeping&&!f)&&!(x.bounds&&(m.bounds.max.x<x.bounds.min.x||m.bounds.min.x>x.bounds.max.x||m.bounds.max.y<x.bounds.min.y||m.bounds.min.y>x.bounds.max.y))){var C=e._getRegion(h,m);if(!m.region||C.id!==m.region.id||f){(!m.region||f)&&(m.region=C);var y=e._regionUnion(C,m.region);for(c=y.startCol;c<=y.endCol;c++)for(g=y.startRow;g<=y.endRow;g++){E=e._getBucketId(c,g),M=S[E];var T=c>=C.startCol&&c<=C.endCol&&g>=C.startRow&&g<=C.endRow,P=c>=m.region.startCol&&c<=m.region.endCol&&g>=m.region.startRow&&g<=m.region.endRow;!T&&P&&P&&M&&e._bucketRemoveBody(h,M,m),(m.region===C||T&&!P||f)&&(M||(M=e._createBucket(S,E)),e._bucketAddBody(h,M,m))}m.region=C,d=!0}}}d&&(h.pairsList=e._createActivePairsList(h))},n(e,"update","Grid.update \u27A4 replaced by Matter.Detector"),e.clear=function(h){h.buckets={},h.pairs={},h.pairsList=[]},n(e,"clear","Grid.clear \u27A4 replaced by Matter.Detector"),e._regionUnion=function(h,l){var v=Math.min(h.startCol,l.startCol),f=Math.max(h.endCol,l.endCol),t=Math.min(h.startRow,l.startRow),c=Math.max(h.endRow,l.endRow);return e._createRegion(v,f,t,c)},e._getRegion=function(h,l){var v=l.bounds,f=Math.floor(v.min.x/h.bucketWidth),t=Math.floor(v.max.x/h.bucketWidth),c=Math.floor(v.min.y/h.bucketHeight),g=Math.floor(v.max.y/h.bucketHeight);return e._createRegion(f,t,c,g)},e._createRegion=function(h,l,v,f){return{id:h+","+l+","+v+","+f,startCol:h,endCol:l,startRow:v,endRow:f}},e._getBucketId=function(h,l){return"C"+h+"R"+l},e._createBucket=function(h,l){var v=h[l]=[];return v},e._bucketAddBody=function(h,l,v){var f=h.pairs,t=s.id,c=l.length,g;for(g=0;g<c;g++){var x=l[g];if(!(v.id===x.id||v.isStatic&&x.isStatic)){var S=t(v,x),M=f[S];M?M[2]+=1:f[S]=[v,x,1]}}l.push(v)},e._bucketRemoveBody=function(h,l,v){var f=h.pairs,t=s.id,c;l.splice(r.indexOf(l,v),1);var g=l.length;for(c=0;c<g;c++){var x=f[t(v,l[c])];x&&(x[2]-=1)}},e._createActivePairsList=function(h){var l,v=h.pairs,f=r.keys(v),t=f.length,c=[],g;for(g=0;g<t;g++)l=v[f[g]],l[2]>0?c.push(l):delete v[f[g]];return c}})()},function(u,p,i){var e={};u.exports=e;var s=i(3),r=i(7),n=i(13),h=i(4),l=i(14),v=i(10),f=i(5),t=i(0),c=i(1);(function(){e.create=function(g,x){var S=(g?g.mouse:null)||(x?x.mouse:null);S||(g&&g.render&&g.render.canvas?S=n.create(g.render.canvas):x&&x.element?S=n.create(x.element):(S=n.create(),t.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var M=v.create({label:"Mouse Constraint",pointA:S.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),E={type:"mouseConstraint",mouse:S,element:null,body:null,constraint:M,collisionFilter:{category:1,mask:4294967295,group:0}},d=t.extend(E,x);return h.on(g,"beforeUpdate",function(){var m=f.allBodies(g.world);e.update(d,m),e._triggerEvents(d)}),d},e.update=function(g,x){var S=g.mouse,M=g.constraint,E=g.body;if(S.button===0){if(M.bodyB)r.set(M.bodyB,!1),M.pointA=S.position;else for(var d=0;d<x.length;d++)if(E=x[d],c.contains(E.bounds,S.position)&&l.canCollide(E.collisionFilter,g.collisionFilter))for(var m=E.parts.length>1?1:0;m<E.parts.length;m++){var C=E.parts[m];if(s.contains(C.vertices,S.position)){M.pointA=S.position,M.bodyB=g.body=E,M.pointB={x:S.position.x-E.position.x,y:S.position.y-E.position.y},M.angleB=E.angle,r.set(E,!1),h.trigger(g,"startdrag",{mouse:S,body:E});break}}}else M.bodyB=g.body=null,M.pointB=null,E&&h.trigger(g,"enddrag",{mouse:S,body:E})},e._triggerEvents=function(g){var x=g.mouse,S=x.sourceEvents;S.mousemove&&h.trigger(g,"mousemove",{mouse:x}),S.mousedown&&h.trigger(g,"mousedown",{mouse:x}),S.mouseup&&h.trigger(g,"mouseup",{mouse:x}),n.clearSourceEvents(x)}})()},function(u,p,i){var e={};u.exports=e;var s=i(2),r=i(8),n=i(1),h=i(12),l=i(3);(function(){e.collides=function(v,f){for(var t=[],c=f.length,g=v.bounds,x=r.collides,S=n.overlaps,M=0;M<c;M++){var E=f[M],d=E.parts.length,m=d===1?0:1;if(S(E.bounds,g))for(var C=m;C<d;C++){var y=E.parts[C];if(S(y.bounds,g)){var T=x(y,v);if(T){t.push(T);break}}}}return t},e.ray=function(v,f,t,c){c=c||1e-100;for(var g=s.angle(f,t),x=s.magnitude(s.sub(f,t)),S=(t.x+f.x)*.5,M=(t.y+f.y)*.5,E=h.rectangle(S,M,x,c,{angle:g}),d=e.collides(E,v),m=0;m<d.length;m+=1){var C=d[m];C.body=C.bodyB=C.bodyA}return d},e.region=function(v,f,t){for(var c=[],g=0;g<v.length;g++){var x=v[g],S=n.overlaps(x.bounds,f);(S&&!t||!S&&t)&&c.push(x)}return c},e.point=function(v,f){for(var t=[],c=0;c<v.length;c++){var g=v[c];if(n.contains(g.bounds,f))for(var x=g.parts.length===1?0:1;x<g.parts.length;x++){var S=g.parts[x];if(n.contains(S.bounds,f)&&l.contains(S.vertices,f)){t.push(g);break}}}return t}})()},function(u,p,i){var e={};u.exports=e;var s=i(4),r=i(18),n=i(0);(function(){var h,l;if(typeof window!="undefined"&&(h=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,l=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),!h){var v;h=function(f){v=setTimeout(function(){f(n.now())},1e3/60)},l=function(){clearTimeout(v)}}e.create=function(f){var t={fps:60,correction:1,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:!1,enabled:!0},c=n.extend(t,f);return c.delta=c.delta||1e3/c.fps,c.deltaMin=c.deltaMin||1e3/c.fps,c.deltaMax=c.deltaMax||1e3/(c.fps*.5),c.fps=1e3/c.delta,c},e.run=function(f,t){return typeof f.positionIterations!="undefined"&&(t=f,f=e.create()),function c(g){f.frameRequestId=h(c),g&&f.enabled&&e.tick(f,t,g)}(),f},e.tick=function(f,t,c){var g=t.timing,x=1,S,M={timestamp:g.timestamp};s.trigger(f,"beforeTick",M),f.isFixed?S=f.delta:(S=c-f.timePrev||f.delta,f.timePrev=c,f.deltaHistory.push(S),f.deltaHistory=f.deltaHistory.slice(-f.deltaSampleSize),S=Math.min.apply(null,f.deltaHistory),S=S<f.deltaMin?f.deltaMin:S,S=S>f.deltaMax?f.deltaMax:S,x=S/f.delta,f.delta=S),f.timeScalePrev!==0&&(x*=g.timeScale/f.timeScalePrev),g.timeScale===0&&(x=0),f.timeScalePrev=g.timeScale,f.correction=x,f.frameCounter+=1,c-f.counterTimestamp>=1e3&&(f.fps=f.frameCounter*((c-f.counterTimestamp)/1e3),f.counterTimestamp=c,f.frameCounter=0),s.trigger(f,"tick",M),s.trigger(f,"beforeUpdate",M),r.update(t,S,x),s.trigger(f,"afterUpdate",M),s.trigger(f,"afterTick",M)},e.stop=function(f){l(f.frameRequestId)},e.start=function(f,t){e.run(f,t)}})()},function(u,p,i){var e={};u.exports=e;var s=i(8),r=i(0),n=r.deprecated;(function(){e.collides=function(h,l){return s.collides(h,l)},n(e,"collides","SAT.collides \u27A4 replaced by Collision.collides")})()},function(u,p,i){var e={};u.exports=e,i(1);var s=i(0);(function(){e.pathToVertices=function(r,n){typeof window!="undefined"&&!("SVGPathSeg"in window)&&s.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var h,l,v,f,t,c,g,x,S,M,E=[],d,m,C=0,y=0,T=0;n=n||15;var P=function(w,I,k){var O=k%2==1&&k>1;if(!S||w!=S.x||I!=S.y){S&&O?(d=S.x,m=S.y):(d=0,m=0);var L={x:d+w,y:m+I};(O||!S)&&(S=L),E.push(L),y=d+w,T=m+I}},A=function(w){var I=w.pathSegTypeAsLetter.toUpperCase();if(I!=="Z"){switch(I){case"M":case"L":case"T":case"C":case"S":case"Q":y=w.x,T=w.y;break;case"H":y=w.x;break;case"V":T=w.y;break}P(y,T,w.pathSegType)}};for(e._svgPathToAbsolute(r),v=r.getTotalLength(),c=[],h=0;h<r.pathSegList.numberOfItems;h+=1)c.push(r.pathSegList.getItem(h));for(g=c.concat();C<v;){if(M=r.getPathSegAtLength(C),t=c[M],t!=x){for(;g.length&&g[0]!=t;)A(g.shift());x=t}switch(t.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":f=r.getPointAtLength(C),P(f.x,f.y,0);break}C+=n}for(h=0,l=g.length;h<l;++h)A(g[h]);return E},e._svgPathToAbsolute=function(r){for(var n,h,l,v,f,t,c=r.pathSegList,g=0,x=0,S=c.numberOfItems,M=0;M<S;++M){var E=c.getItem(M),d=E.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(d))"x"in E&&(g=E.x),"y"in E&&(x=E.y);else switch("x1"in E&&(l=g+E.x1),"x2"in E&&(f=g+E.x2),"y1"in E&&(v=x+E.y1),"y2"in E&&(t=x+E.y2),"x"in E&&(g+=E.x),"y"in E&&(x+=E.y),d){case"m":c.replaceItem(r.createSVGPathSegMovetoAbs(g,x),M);break;case"l":c.replaceItem(r.createSVGPathSegLinetoAbs(g,x),M);break;case"h":c.replaceItem(r.createSVGPathSegLinetoHorizontalAbs(g),M);break;case"v":c.replaceItem(r.createSVGPathSegLinetoVerticalAbs(x),M);break;case"c":c.replaceItem(r.createSVGPathSegCurvetoCubicAbs(g,x,l,v,f,t),M);break;case"s":c.replaceItem(r.createSVGPathSegCurvetoCubicSmoothAbs(g,x,f,t),M);break;case"q":c.replaceItem(r.createSVGPathSegCurvetoQuadraticAbs(g,x,l,v),M);break;case"t":c.replaceItem(r.createSVGPathSegCurvetoQuadraticSmoothAbs(g,x),M);break;case"a":c.replaceItem(r.createSVGPathSegArcAbs(g,x,E.r1,E.r2,E.angle,E.largeArcFlag,E.sweepFlag),M);break;case"z":case"Z":g=n,x=h;break}(d=="M"||d=="m")&&(n=g,h=x)}}})()},function(u,p,i){var e={};u.exports=e;var s=i(5);i(0),function(){e.create=s.create,e.add=s.add,e.remove=s.remove,e.clear=s.clear,e.addComposite=s.addComposite,e.addBody=s.addBody,e.addConstraint=s.addConstraint}()}])})})(dn);/*!
* KUTE.js Standard v2.2.2 (http://thednp.github.io/kute.js)
* Copyright 2015-2021 © thednp
* Licensed under MIT (https://github.com/thednp/kute.js/blob/master/LICENSE)
*/class N{constructor(a,u,p,i,e){this.cx=3*a,this.bx=3*(p-a)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*u,this.by=3*(i-u)-this.cy,this.ay=1-this.cy-this.by;const s=r=>this.sampleCurveY(this.solveCurveX(r));return Object.defineProperty(s,"name",{writable:!0}),s.name=e||`cubic-bezier(${[a,u,p,i]})`,s}sampleCurveX(a){return((this.ax*a+this.bx)*a+this.cx)*a}sampleCurveY(a){return((this.ay*a+this.by)*a+this.cy)*a}sampleCurveDerivativeX(a){return(3*this.ax*a+2*this.bx)*a+this.cx}solveCurveX(a){let u,p,i,e,s,r;const n=1e-5;for(i=a,r=0;r<32;r+=1){if(e=this.sampleCurveX(i)-a,Math.abs(e)<n)return i;if(s=this.sampleCurveDerivativeX(i),Math.abs(s)<n)break;i-=e/s}if(u=0,p=1,i=a,i<u)return u;if(i>p)return p;for(;u<p;){if(e=this.sampleCurveX(i),Math.abs(e-a)<n)return i;a>e?u=i:p=i,i=(p-u)*.5+u}return i}}var xn="1.0.18";const mn=xn;Object.assign(N,{Version:mn});const F={},J=[];let Me;typeof global!="undefined"?Me=global:typeof window!="undefined"?Me=window.self:Me={};const yn=Me,ae={},Z={};let ge;typeof self=="undefined"&&typeof process!="undefined"&&process.hrtime?ge=()=>{const o=process.hrtime();return o[0]*1e3+o[1]/1e6}:typeof self!="undefined"&&self.performance!==void 0&&self.performance.now!==void 0?ge=self.performance.now.bind(self.performance):typeof Date!="undefined"&&Date.now?ge=Date.now:ge=()=>new Date().getTime();const Sn=ge,Ue={};Ue.now=Sn;let ie=0;const Te=o=>{let a=0;for(;a<J.length;)J[a].update(o)?a+=1:J.splice(a,1);ie=requestAnimationFrame(Te)};function ht(){setTimeout(()=>{!J.length&&ie&&(cancelAnimationFrame(ie),ie=null,Object.keys(Z).forEach(o=>{typeof Z[o]=="function"?F[o]&&delete F[o]:Object.keys(Z[o]).forEach(a=>{F[a]&&delete F[a]})}),Object.keys(ae).forEach(o=>{F[o]&&delete F[o]}))},64)}const Qe={Tick:ie,Ticker:Te,Tweens:J,Time:Ue};Object.keys(Qe).forEach(o=>{F[o]||(F[o]=o==="Time"?Ue.now:Qe[o])});yn._KUTE=F;const se={},j={},X={duration:700,delay:0,easing:"linear",repeat:0,repeatDelay:0,yoyo:!1,resetStart:!1,offset:0},Pe={},Ee={},ne={},ve={},Ae={},Cn={supportedProperties:se,defaultValues:j,defaultOptions:X,prepareProperty:Pe,prepareStart:Ee,crossCheck:ne,onStart:Z,onComplete:ve,linkProperty:Ae},ze={},Ge=o=>J.push(o),Ze=o=>{const a=J.indexOf(o);a!==-1&&J.splice(a,1)},wn=()=>J,Mn=()=>{J.length=0};function gt(){Object.keys(Ae).forEach(o=>{const a=Ae[o],u=se[o];Object.keys(a).forEach(p=>{typeof a[p]=="function"&&Object.keys(this.valuesEnd).some(i=>u&&u.includes(i)||i==="attr"&&Object.keys(this.valuesEnd[i]).some(e=>u&&u.includes(e)))?F[p]||(F[p]=a[p]):Object.keys(this.valuesEnd).forEach(i=>{const e=this.valuesEnd[i];e instanceof Object&&Object.keys(e).forEach(s=>{typeof a[s]=="function"?F[s]||(F[s]=a[s]):Object.keys(a[p]).forEach(r=>{a[s]&&typeof a[s][r]=="function"&&(F[r]||(F[r]=a[s][r]))})})})})})}const Tn={add:Ge,remove:Ze,getAll:wn,removeAll:Mn,stop:ht,linkInterpolation:gt};function je(o){if(!o.style)return!1;const a=o.style.cssText.replace(/\s/g,"").split(";"),u={},p=["translate3d","translate","scale3d","skew"];return a.forEach(i=>{/transform/i.test(i)&&i.split(":")[1].split(")").forEach(s=>{const r=s.split("("),n=r[0],h=r[1];/matrix/.test(n)||(u[n]=p.includes(n)?h.split(","):h)})}),u}function oe(o,a){let u=j[a];const p=o.style,i=getComputedStyle(o)||o.currentStyle,e=p[a]&&!/auto|initial|none|unset/.test(p[a])?p[a]:i[a];return a!=="transform"&&(a in i||a in p)&&(u=e),u}function Ie(o,a){const u=a==="start"?this.valuesStart:this.valuesEnd;Object.keys(Pe).forEach(p=>{const i=Pe[p],e=se[p];Object.keys(i).forEach(s=>{const r={};Object.keys(o).forEach(n=>{j[n]&&i[n]?u[n]=i[n].call(this,n,o[n]):!j[s]&&s==="transform"&&e.includes(n)?r[n]=o[n]:!j[n]&&n==="transform"?u[n]=o[n]:!j[s]&&e&&e.includes(n)&&(u[n]=i[s].call(this,n,o[n]))}),Object.keys(r).length&&(u[s]=i[s].call(this,s,r))})})}function vt(){const o={},a=je(this.element);Object.keys(this.valuesStart).forEach(u=>{Object.keys(Ee).forEach(p=>{const i=Ee[p];Object.keys(i).forEach(e=>{e===u&&i[u]?o[u]=i[e].call(this,u,this.valuesStart[u]):se[p]&&se[p].includes(u)&&(o[u]=i[e].call(this,u,this.valuesStart[u]))})})}),Object.keys(a).forEach(u=>{u in this.valuesStart||(o[u]=a[u]||j[u])}),this.valuesStart={},Ie.call(this,o,"start")}var Pn={getInlineStyle:je,getStyleForProperty:oe,getStartValues:vt,prepareObject:Ie};const Y={};Y.tween=null;Y.processEasing=null;const ke={linear:new N(0,0,1,1,"linear"),easingSinusoidalIn:new N(.47,0,.745,.715,"easingSinusoidalIn"),easingSinusoidalOut:new N(.39,.575,.565,1,"easingSinusoidalOut"),easingSinusoidalInOut:new N(.445,.05,.55,.95,"easingSinusoidalInOut"),easingQuadraticIn:new N(.55,.085,.68,.53,"easingQuadraticIn"),easingQuadraticOut:new N(.25,.46,.45,.94,"easingQuadraticOut"),easingQuadraticInOut:new N(.455,.03,.515,.955,"easingQuadraticInOut"),easingCubicIn:new N(.55,.055,.675,.19,"easingCubicIn"),easingCubicOut:new N(.215,.61,.355,1,"easingCubicOut"),easingCubicInOut:new N(.645,.045,.355,1,"easingCubicInOut"),easingQuarticIn:new N(.895,.03,.685,.22,"easingQuarticIn"),easingQuarticOut:new N(.165,.84,.44,1,"easingQuarticOut"),easingQuarticInOut:new N(.77,0,.175,1,"easingQuarticInOut"),easingQuinticIn:new N(.755,.05,.855,.06,"easingQuinticIn"),easingQuinticOut:new N(.23,1,.32,1,"easingQuinticOut"),easingQuinticInOut:new N(.86,0,.07,1,"easingQuinticInOut"),easingExponentialIn:new N(.95,.05,.795,.035,"easingExponentialIn"),easingExponentialOut:new N(.19,1,.22,1,"easingExponentialOut"),easingExponentialInOut:new N(1,0,0,1,"easingExponentialInOut"),easingCircularIn:new N(.6,.04,.98,.335,"easingCircularIn"),easingCircularOut:new N(.075,.82,.165,1,"easingCircularOut"),easingCircularInOut:new N(.785,.135,.15,.86,"easingCircularInOut"),easingBackIn:new N(.6,-.28,.735,.045,"easingBackIn"),easingBackOut:new N(.175,.885,.32,1.275,"easingBackOut"),easingBackInOut:new N(.68,-.55,.265,1.55,"easingBackInOut")};function En(o){if(typeof o=="function")return o;if(typeof ke[o]=="function")return ke[o];if(/bezier/.test(o)){const a=o.replace(/bezier|\s|\(|\)/g,"").split(",");return new N(a[0]*1,a[1]*1,a[2]*1,a[3]*1)}return ke.linear}Y.processEasing=En;function le(o,a){try{let u,p;return a?(p=o instanceof Array&&o.every(i=>i instanceof Element),u=o instanceof HTMLCollection||o instanceof NodeList||p?o:document.querySelectorAll(o)):u=o instanceof Element||o===window?o:document.querySelector(o),u}catch{throw TypeError(`KUTE.js - Element(s) not found: ${o}.`)}}function pt(){Object.keys(Z).forEach(o=>{typeof Z[o]=="function"?Z[o].call(this,o):Object.keys(Z[o]).forEach(a=>{Z[o][a].call(this,a)})}),gt.call(this)}class dt{constructor(a,u,p,i){this.element=a,this.playing=!1,this._startTime=null,this._startFired=!1,this.valuesEnd=p,this.valuesStart=u;const e=i||{};this._resetStart=e.resetStart||0,this._easing=typeof e.easing=="function"?e.easing:Y.processEasing(e.easing),this._duration=e.duration||X.duration,this._delay=e.delay||X.delay,Object.keys(e).forEach(r=>{const n=`_${r}`;n in this||(this[n]=e[r])});const s=this._easing.name;return Z[s]||(Z[s]=function(n){!F[n]&&n===this._easing.name&&(F[n]=this._easing)}),this}start(a){return Ge(this),this.playing=!0,this._startTime=typeof a!="undefined"?a:F.Time(),this._startTime+=this._delay,this._startFired||(this._onStart&&this._onStart.call(this),pt.call(this),this._startFired=!0),ie||Te(),this}stop(){return this.playing&&(Ze(this),this.playing=!1,this._onStop&&this._onStop.call(this),this.close()),this}close(){Object.keys(ve).forEach(a=>{Object.keys(ve[a]).forEach(u=>{ve[a][u].call(this,u)})}),this._startFired=!1,ht.call(this)}chain(a){return this._chain=[],this._chain=a.length?a:this._chain.concat(a),this}stopChainedTweens(){this._chain&&this._chain.length&&this._chain.forEach(a=>a.stop())}update(a){const u=a!==void 0?a:F.Time();let p;if(u<this._startTime&&this.playing)return!0;p=(u-this._startTime)/this._duration,p=this._duration===0||p>1?1:p;const i=this._easing(p);return Object.keys(this.valuesEnd).forEach(e=>{F[e](this.element,this.valuesStart[e],this.valuesEnd[e],i)}),this._onUpdate&&this._onUpdate.call(this),p===1?(this._onComplete&&this._onComplete.call(this),this.playing=!1,this.close(),this._chain!==void 0&&this._chain.length&&this._chain.map(e=>e.start()),!1):!0}}Y.tween=dt;class xt extends dt{constructor(...a){super(...a);this.valuesStart={},this.valuesEnd={};const[u,p,i]=a.slice(1);return Ie.call(this,p,"end"),this._resetStart?this.valuesStart=u:Ie.call(this,u,"start"),this._resetStart||Object.keys(ne).forEach(e=>{Object.keys(ne[e]).forEach(s=>{ne[e][s].call(this,s)})}),this.paused=!1,this._pauseTime=null,this._repeat=i.repeat||X.repeat,this._repeatDelay=i.repeatDelay||X.repeatDelay,this._repeatOption=this._repeat,this.valuesRepeat={},this._yoyo=i.yoyo||X.yoyo,this._reversed=!1,this}start(a){return this._resetStart&&(this.valuesStart=this._resetStart,vt.call(this),Object.keys(ne).forEach(u=>{Object.keys(ne[u]).forEach(p=>{ne[u][p].call(this,p)})})),this.paused=!1,this._yoyo&&Object.keys(this.valuesEnd).forEach(u=>{this.valuesRepeat[u]=this.valuesStart[u]}),super.start(a),this}stop(){return super.stop(),!this.paused&&this.playing&&(this.paused=!1,this.stopChainedTweens()),this}close(){return super.close(),this._repeatOption>0&&(this._repeat=this._repeatOption),this._yoyo&&this._reversed===!0&&(this.reverse(),this._reversed=!1),this}resume(){return this.paused&&this.playing&&(this.paused=!1,this._onResume!==void 0&&this._onResume.call(this),pt.call(this),this._startTime+=F.Time()-this._pauseTime,Ge(this),ie||Te()),this}pause(){return!this.paused&&this.playing&&(Ze(this),this.paused=!0,this._pauseTime=F.Time(),this._onPause!==void 0&&this._onPause.call(this)),this}reverse(){Object.keys(this.valuesEnd).forEach(a=>{const u=this.valuesRepeat[a];this.valuesRepeat[a]=this.valuesEnd[a],this.valuesEnd[a]=u,this.valuesStart[a]=this.valuesRepeat[a]})}update(a){const u=a!==void 0?a:F.Time();let p;if(u<this._startTime&&this.playing)return!0;p=(u-this._startTime)/this._duration,p=this._duration===0||p>1?1:p;const i=this._easing(p);return Object.keys(this.valuesEnd).forEach(e=>{F[e](this.element,this.valuesStart[e],this.valuesEnd[e],i)}),this._onUpdate&&this._onUpdate.call(this),p===1?this._repeat>0?(Number.isFinite(this._repeat)&&(this._repeat-=1),this._startTime=u,Number.isFinite(this._repeat)&&this._yoyo&&!this._reversed&&(this._startTime+=this._repeatDelay),this._yoyo&&(this._reversed=!this._reversed,this.reverse()),!0):(this._onComplete&&this._onComplete.call(this),this.playing=!1,this.close(),this._chain!==void 0&&this._chain.length&&this._chain.forEach(e=>e.start()),!1):!0}}Y.tween=xt;class pe{constructor(a,u,p,i){const e=Y.tween;this.tweens=[];const s=i||{};s.delay=s.delay||X.delay;const r=[];return Array.from(a).forEach((n,h)=>{if(r[h]=s||{},r[h].delay=h>0?s.delay+(s.offset||X.offset):s.delay,n instanceof Element)this.tweens.push(new e(n,u,p,r[h]));else throw Error(`KUTE - ${n} is not instanceof Element`)}),this.length=this.tweens.length,this}start(a){const u=a===void 0?F.Time():a;return this.tweens.map(p=>p.start(u)),this}stop(){return this.tweens.map(a=>a.stop()),this}pause(){return this.tweens.map(a=>a.pause()),this}resume(){return this.tweens.map(a=>a.resume()),this}chain(a){const u=this.tweens[this.length-1];if(a instanceof pe)u.chain(a.tweens);else if(a instanceof Y.tween)u.chain(a);else throw new TypeError("KUTE.js - invalid chain value");return this}playing(){return this.tweens.some(a=>a.playing)}removeTweens(){this.tweens=[]}getMaxDuration(){const a=[];return this.tweens.forEach(u=>{a.push(u._duration+u._delay+u._repeat*u._repeatDelay)}),Math.max(a)}}const{tween:An}=Y;function In(o,a,u){const p=u||{};return p.resetStart=a,new An(le(o),a,a,p)}const{tween:kn}=Y;function On(o,a,u,p){const i=p||{};return new kn(le(o),a,u,i)}function Ln(o,a,u){const p=u||{};return p.resetStart=a,new pe(le(o,!0),a,a,p)}function Bn(o,a,u,p){const i=p||{};return new pe(le(o,!0),a,u,i)}class mt{constructor(a){try{if(a.component in se)throw Error(`KUTE - ${a.component} already registered`);if(a.property in j)throw Error(`KUTE - ${a.property} already registered`)}catch(n){throw Error(n)}const u=this,p=a.component,i={prepareProperty:Pe,prepareStart:Ee,onStart:Z,onComplete:ve,crossCheck:ne},e=a.category,s=a.property,r=a.properties&&a.properties.length||a.subProperties&&a.subProperties.length;return se[p]=a.properties||a.subProperties||a.property,"defaultValue"in a?(j[s]=a.defaultValue,u.supports=`${s} property`):a.defaultValues&&(Object.keys(a.defaultValues).forEach(n=>{j[n]=a.defaultValues[n]}),u.supports=`${r||s} ${s||e} properties`),a.defaultOptions&&Object.assign(X,a.defaultOptions),a.functions&&Object.keys(i).forEach(n=>{n in a.functions&&(typeof a.functions[n]=="function"?(i[n][p]||(i[n][p]={}),i[n][p][e||s]||(i[n][p][e||s]=a.functions[n])):Object.keys(a.functions[n]).forEach(h=>{i[n][p]||(i[n][p]={}),i[n][p][h]||(i[n][p][h]=a.functions[n][h])}))}),a.Interpolate&&(Object.keys(a.Interpolate).forEach(n=>{const h=a.Interpolate[n];typeof h=="function"&&!ae[n]?ae[n]=h:Object.keys(h).forEach(l=>{typeof h[l]=="function"&&!ae[n]&&(ae[n]=h[l])})}),Ae[p]=a.Interpolate),a.Util&&Object.keys(a.Util).forEach(n=>{ze[n]||(ze[n]=a.Util[n])}),u}}const fe=(o,a)=>{const u=parseInt(o,10)||0,p=["px","%","deg","rad","em","rem","vh","vw"];let i;for(let e=0;e<p.length;e+=1)if(typeof o=="string"&&o.includes(p[e])){i=p[e];break}return i===void 0&&(i=a?"deg":"px"),{v:u,u:i}};function z(o,a,u){const p=+o,i=a-o;return p+i*u}function yt(o){o in this.valuesEnd&&!F[o]&&(F[o]=(a,u,p,i)=>{a.style[o]=`${i>.99||i<.01?(z(u,p,i)*10>>0)/10:z(u,p,i)>>0}px`})}const Fn=["top","left","width","height"],Vn={};Fn.forEach(o=>{Vn[o]=yt});function Rn(o){return oe(this.element,o)||j[o]}function Dn(o,a){const u=fe(a),p=o==="height"?"offsetHeight":"offsetWidth";return u.u==="%"?u.v*this.element[p]/100:u.v}const St=["top","left","width","height"],Hn={top:0,left:0,width:0,height:0},Ct={};St.forEach(o=>{Ct[o]=yt});const bn={prepareStart:Rn,prepareProperty:Dn,onStart:Ct},$n={component:"essentialBoxModel",category:"boxModel",properties:St,defaultValues:Hn,Interpolate:{numbers:z},functions:bn,Util:{trueDimension:fe}},Nn=o=>{const a=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,u=o.replace(a,(i,e,s,r)=>e+e+s+s+r+r),p=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(u);return p?{r:parseInt(p[1],16),g:parseInt(p[2],16),b:parseInt(p[3],16)}:null},Oe=o=>{let a;if(/rgb|rgba/.test(o)){const u=o.replace(/\s|\)/,"").split("(")[1].split(","),p=u[3]?u[3]:null;p||(a={r:parseInt(u[0],10),g:parseInt(u[1],10),b:parseInt(u[2],10)}),a={r:parseInt(u[0],10),g:parseInt(u[1],10),b:parseInt(u[2],10),a:parseFloat(p)}}if(/^#/.test(o)){const u=Nn(o);a={r:u.r,g:u.g,b:u.b}}if(/transparent|none|initial|inherit/.test(o)&&(a={r:0,g:0,b:0,a:0}),!/^#|^rgb/.test(o)){const u=document.getElementsByTagName("head")[0];u.style.color=o;let p=getComputedStyle(u,null).color;p=/rgb/.test(p)?p.replace(/[^\d,]/g,"").split(","):[0,0,0],u.style.color="",a={r:parseInt(p[0],10),g:parseInt(p[1],10),b:parseInt(p[2],10)}}return a};function Le(o,a,u){const p={},i=")",e=",",s="rgb(",r="rgba(";return Object.keys(a).forEach(n=>{n!=="a"?p[n]=z(o[n],a[n],u)>>0||0:o[n]&&a[n]&&(p[n]=(z(o[n],a[n],u)*100>>0)/100)}),p.a?r+p.r+e+p.g+e+p.b+e+p.a+i:s+p.r+e+p.g+e+p.b+i}const Wn=["color","backgroundColor","outlineColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"];function wt(o){this.valuesEnd[o]&&!F[o]&&(F[o]=(a,u,p,i)=>{a.style[o]=Le(u,p,i)})}const Un={};Wn.forEach(o=>{Un[o]=wt});const Ke=["color","backgroundColor","outlineColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],Mt={};Ke.forEach(o=>{Mt[o]="#000"});const Tt={};Ke.forEach(o=>{Tt[o]=wt});function Qn(o){return oe(this.element,o)||j[o]}function zn(o,a){return Oe(a)}const Gn={prepareStart:Qn,prepareProperty:zn,onStart:Tt},Zn={component:"colorProperties",category:"colors",properties:Ke,defaultValues:Mt,Interpolate:{numbers:z,colors:Le},functions:Gn,Util:{trueColor:Oe}},re={},jn={attr(o){!F[o]&&this.valuesEnd[o]&&(F[o]=(a,u,p,i)=>{Object.keys(p).forEach(e=>{F.attributes[e](a,e,u[e],p[e],i)})})},attributes(o){!F[o]&&this.valuesEnd.attr&&(F[o]=re)}},Be="htmlAttributes",Pt=["fill","stroke","stop-color"];function Xe(o){return o.replace(/[A-Z]/g,"-$&").toLowerCase()}function Kn(o,a){const u={};return Object.keys(a).forEach(p=>{const i=Xe(p).replace(/_+[a-z]+/,""),e=this.element.getAttribute(i);u[i]=Pt.includes(i)?e||"rgba(0,0,0,0)":e||(/opacity/i.test(p)?1:0)}),u}function Xn(o,a){const u={};return Object.keys(a).forEach(p=>{const i=Xe(p),e=/(%|[a-z]+)$/,s=this.element.getAttribute(i.replace(/_+[a-z]+/,""));if(Pt.includes(i))Z[Be][i]=r=>{this.valuesEnd[o]&&this.valuesEnd[o][r]&&!(r in re)&&(re[r]=(n,h,l,v,f)=>{n.setAttribute(h,Le(l,v,f))})},u[i]=Oe(a[p])||j.htmlAttributes[p];else if(s!==null&&e.test(s)){const r=fe(s).u||fe(a[p]).u,n=/%/.test(r)?"_percent":`_${r}`;Z[Be][i+n]=h=>{this.valuesEnd[o]&&this.valuesEnd[o][h]&&!(h in re)&&(re[h]=(l,v,f,t,c)=>{const g=v.replace(n,"");l.setAttribute(g,(z(f.v,t.v,c)*1e3>>0)/1e3+t.u)})},u[i+n]=fe(a[p])}else(!e.test(a[p])||s===null||s!==null&&!e.test(s))&&(Z[Be][i]=r=>{this.valuesEnd[o]&&this.valuesEnd[o][r]&&!(r in re)&&(re[r]=(n,h,l,v,f)=>{n.setAttribute(h,(z(l,v,f)*1e3>>0)/1e3)})},u[i]=parseFloat(a[p]))}),u}const Yn={prepareStart:Kn,prepareProperty:Xn,onStart:jn},Jn={component:Be,property:"attr",subProperties:["fill","stroke","stop-color","fill-opacity","stroke-opacity"],defaultValue:{fill:"rgb(0,0,0)",stroke:"rgb(0,0,0)","stop-color":"rgb(0,0,0)",opacity:1,"stroke-opacity":1,"fill-opacity":1},Interpolate:{numbers:z,colors:Le},functions:Yn,Util:{replaceUppercase:Xe,trueColor:Oe,trueDimension:fe}};function qn(o){o in this.valuesEnd&&!F[o]&&(F[o]=(a,u,p,i)=>{a.style[o]=(z(u,p,i)*1e3>>0)/1e3})}function _n(o){return oe(this.element,o)}function ei(o,a){return parseFloat(a)}const ti={prepareStart:_n,prepareProperty:ei,onStart:qn},ni={component:"opacityProperty",property:"opacity",defaultValue:1,Interpolate:{numbers:z},functions:ti},Et=String("abcdefghijklmnopqrstuvwxyz").split(""),At=String("abcdefghijklmnopqrstuvwxyz").toUpperCase().split(""),It=String("~!@#$%^&*()_+{}[];'<>,./?=-").split(""),kt=String("0123456789").split(""),Ot=Et.concat(At,kt),ii=Ot.concat(It),Fe={alpha:Et,upper:At,symbols:It,numeric:kt,alphanumeric:Ot,all:ii},si={text(o){if(!F[o]&&this.valuesEnd[o]){const a=this._textChars;let u=Fe[X.textChars];a in Fe?u=Fe[a]:a&&a.length&&(u=a),F[o]=(p,i,e,s)=>{let r="",n="";const h=e===""?" ":e,l=i.substring(0),v=e.substring(0),f=u[Math.random()*u.length>>0];i===" "?(n=v.substring(Math.min(s*v.length,v.length)>>0,0),p.innerHTML=s<1?n+f:h):e===" "?(r=l.substring(0,Math.min((1-s)*l.length,l.length)>>0),p.innerHTML=s<1?r+f:h):(r=l.substring(l.length,Math.min(s*l.length,l.length)>>0),n=v.substring(0,Math.min(s*v.length,v.length)>>0),p.innerHTML=s<1?n+f+r:h)}}},number(o){o in this.valuesEnd&&!F[o]&&(F[o]=(a,u,p,i)=>{a.innerHTML=z(u,p,i)>>0})}};function de(o,a){let u,p;if(typeof o=="string")return p=document.createElement("SPAN"),p.innerHTML=o,p.className=a,p;if(!o.children.length||o.children.length&&o.children[0].className!==a){const i=o.innerHTML;u=document.createElement("SPAN"),u.className=a,u.innerHTML=i,o.appendChild(u),o.innerHTML=u.outerHTML}else o.children.length&&o.children[0].className===a&&([u]=o.children);return u}function Lt(o,a){let u=[];const p=o.children.length;if(p){const i=[];let e=o.innerHTML,s;for(let r=0,n,h,l;r<p;r+=1)n=o.children[r],h=n.outerHTML,s=e.split(h),s[0]!==""?(l=de(s[0],a),i.push(l),e=e.replace(s[0],"")):s[1]!==""&&(l=de(s[1].split("<")[0],a),i.push(l),e=e.replace(s[0].split("<")[0],"")),n.classList.contains(a)||n.classList.add(a),i.push(n),e=e.replace(h,"");if(e!==""){const r=de(e,a);i.push(r)}u=u.concat(i)}else u=u.concat([de(o,a)]);return u}function ri(o,a){const u=Lt(o,"text-part"),p=Lt(de(a),"text-part");return o.innerHTML="",o.innerHTML+=u.map(i=>(i.className+=" oldText",i.outerHTML)).join(""),o.innerHTML+=p.map(i=>(i.className+=" newText",i.outerHTML.replace(i.innerHTML,""))).join(""),[u,p]}function ai(o,a,u){if(o.playing)return!1;const p=u||{};p.duration=1e3,u.duration==="auto"?p.duration="auto":Number.isFinite(u.duration*1)&&(p.duration=u.duration*1);const i=Y.tween,e=ri(o,a),s=e[0],r=e[1],n=[].slice.call(o.getElementsByClassName("oldText")).reverse(),h=[].slice.call(o.getElementsByClassName("newText"));let l=[],v=0;return l=l.concat(n.map((f,t)=>(p.duration=p.duration==="auto"?s[t].innerHTML.length*75:p.duration,p.delay=v,p.onComplete=null,v+=p.duration,new i(f,{text:f.innerHTML},{text:""},p)))),l=l.concat(h.map((f,t)=>{function c(){o.innerHTML=a,o.playing=!1}return p.duration=p.duration==="auto"?r[t].innerHTML.length*75:p.duration,p.delay=v,p.onComplete=t===r.length-1?c:null,v+=p.duration,new i(f,{text:""},{text:r[t].innerHTML},p)})),l.start=function(){o.playing||(l.forEach(t=>t.start()),o.playing=!0)},l}function oi(){return this.element.innerHTML}function li(o,a){return o==="number"?parseFloat(a):a===""?" ":a}const fi={prepareStart:oi,prepareProperty:li,onStart:si},ci={component:"textWriteProperties",category:"textWrite",properties:["text","number"],defaultValues:{text:" ",number:"0"},defaultOptions:{textChars:"alpha"},Interpolate:{numbers:z},functions:fi,Util:{charSet:Fe,createTextTweens:ai}};function Bt(o,a,u,p){return`perspective(${((o+(a-o)*p)*1e3>>0)/1e3}${u})`}function Ft(o,a,u,p){const i=[];for(let e=0;e<3;e+=1)i[e]=(o[e]||a[e]?((o[e]+(a[e]-o[e])*p)*1e3>>0)/1e3:0)+u;return`translate3d(${i.join(",")})`}function Vt(o,a,u,p){let i="";return i+=o[0]||a[0]?`rotateX(${((o[0]+(a[0]-o[0])*p)*1e3>>0)/1e3}${u})`:"",i+=o[1]||a[1]?`rotateY(${((o[1]+(a[1]-o[1])*p)*1e3>>0)/1e3}${u})`:"",i+=o[2]||a[2]?`rotateZ(${((o[2]+(a[2]-o[2])*p)*1e3>>0)/1e3}${u})`:"",i}function ui(o,a,u,p){const i=[];return i[0]=(o[0]===a[0]?a[0]:((o[0]+(a[0]-o[0])*p)*1e3>>0)/1e3)+u,i[1]=o[1]||a[1]?(o[1]===a[1]?a[1]:((o[1]+(a[1]-o[1])*p)*1e3>>0)/1e3)+u:"0",`translate(${i.join(",")})`}function hi(o,a,u,p){return`rotate(${((o+(a-o)*p)*1e3>>0)/1e3}${u})`}function Rt(o,a,u){return`scale(${((o+(a-o)*u)*1e3>>0)/1e3})`}function Dt(o,a,u,p){const i=[];return i[0]=(o[0]===a[0]?a[0]:((o[0]+(a[0]-o[0])*p)*1e3>>0)/1e3)+u,i[1]=o[1]||a[1]?(o[1]===a[1]?a[1]:((o[1]+(a[1]-o[1])*p)*1e3>>0)/1e3)+u:"0",`skew(${i.join(",")})`}function gi(o){!F[o]&&this.valuesEnd[o]&&(F[o]=(a,u,p,i)=>{a.style[o]=(u.perspective||p.perspective?Bt(u.perspective,p.perspective,"px",i):"")+(u.translate3d?Ft(u.translate3d,p.translate3d,"px",i):"")+(u.rotate3d?Vt(u.rotate3d,p.rotate3d,"deg",i):"")+(u.skew?Dt(u.skew,p.skew,"deg",i):"")+(u.scale||p.scale?Rt(u.scale,p.scale,i):"")})}function vi(o){const a=je(this.element);return a[o]?a[o]:j[o]}function pi(o,a){const u=["X","Y","Z"],p={},i=[],e=[],s=[],r=["translate3d","translate","rotate3d","skew"];return Object.keys(a).forEach(n=>{const h=typeof a[n]=="object"&&a[n].length?a[n].map(l=>parseInt(l,10)):parseInt(a[n],10);if(r.includes(n)){const l=n==="translate"||n==="rotate"?`${n}3d`:n;n==="skew"?p[l]=h.length?[h[0]||0,h[1]||0]:[h||0,0]:n==="translate"?p[l]=h.length?[h[0]||0,h[1]||0,h[2]||0]:[h||0,0,0]:p[l]=[h[0]||0,h[1]||0,h[2]||0]}else if(/[XYZ]/.test(n)){const l=n.replace(/[XYZ]/,""),v=l==="skew"?l:`${l}3d`,f=l==="skew"?2:3;let t=[];l==="translate"?t=i:l==="rotate"?t=e:l==="skew"&&(t=s);for(let c=0;c<f;c+=1){const g=u[c];t[c]=`${l}${g}`in a?parseInt(a[`${l}${g}`],10):0}p[v]=t}else n==="rotate"?p.rotate3d=[0,0,h]:p[n]=n==="scale"?parseFloat(a[n]):h}),p}function di(o){this.valuesEnd[o]&&this.valuesEnd[o]&&this.valuesEnd[o].perspective&&!this.valuesStart[o].perspective&&(this.valuesStart[o].perspective=this.valuesEnd[o].perspective)}const xi={prepareStart:vi,prepareProperty:pi,onStart:gi,crossCheck:di},mi=["perspective","translate3d","translateX","translateY","translateZ","translate","rotate3d","rotateX","rotateY","rotateZ","rotate","skewX","skewY","skew","scale"],yi={perspective:400,translate3d:[0,0,0],translateX:0,translateY:0,translateZ:0,translate:[0,0],rotate3d:[0,0,0],rotateX:0,rotateY:0,rotateZ:0,rotate:0,skewX:0,skewY:0,skew:[0,0],scale:1},Si={component:"transformFunctions",property:"transform",subProperties:mi,defaultValues:yi,functions:xi,Interpolate:{perspective:Bt,translate3d:Ft,rotate3d:Vt,translate:ui,rotate:hi,scale:Rt,skew:Dt}};function Ci(o){o in this.valuesEnd&&!F[o]&&(F[o]=(a,u,p,i)=>{const e=(u.l*100>>0)/100,s=(z(u.s,p.s,i)*100>>0)/100,r=(z(u.e,p.e,i)*100>>0)/100,n=0-s,h=r+n;a.style.strokeDashoffset=`${n}px`,a.style.strokeDasharray=`${((h<1?0:h)*100>>0)/100}px, ${e}px`})}function Ye(o,a){return parseFloat(o)/100*a}function Ht(o){const a=o.getAttribute("width"),u=o.getAttribute("height");return a*2+u*2}function bt(o){const a=o.getAttribute("points").split(" ");let u=0;if(a.length>1){const p=e=>{const s=e.split(",");return s.length!==2||Number.isNaN(s[0]*1)||Number.isNaN(s[1]*1)?0:[parseFloat(s[0]),parseFloat(s[1])]},i=(e,s)=>e!==void 0&&s!==void 0?Math.sqrt((s[0]-e[0])**2+(s[1]-e[1])**2):0;if(a.length>2)for(let e=0;e<a.length-1;e+=1)u+=i(p(a[e]),p(a[e+1]));u+=o.tagName==="polygon"?i(p(a[0]),p(a[a.length-1])):0}return u}function $t(o){const a=o.getAttribute("x1"),u=o.getAttribute("x2"),p=o.getAttribute("y1"),i=o.getAttribute("y2");return Math.sqrt((u-a)**2+(i-p)**2)}function Nt(o){const a=o.getAttribute("r");return 2*Math.PI*a}function Wt(o){const a=o.getAttribute("rx"),u=o.getAttribute("ry"),p=2*a,i=2*u;return Math.sqrt(.5*(p*p+i*i))*(Math.PI*2)/2}function Ut(o){return o.tagName==="rect"?Ht(o):o.tagName==="circle"?Nt(o):o.tagName==="ellipse"?Wt(o):["polygon","polyline"].includes(o.tagName)?bt(o):o.tagName==="line"?$t(o):0}function Je(o,a){const u=/path|glyph/.test(o.tagName)?o.getTotalLength():Ut(o);let p,i,e,s;if(a instanceof Object&&Object.keys(a).every(r=>["s","e","l"].includes(r)))return a;if(typeof a=="string"){const r=a.split(/,|\s/);p=/%/.test(r[0])?Ye(r[0].trim(),u):parseFloat(r[0]),i=/%/.test(r[1])?Ye(r[1].trim(),u):parseFloat(r[1])}else typeof a=="undefined"&&(s=parseFloat(oe(o,"stroke-dashoffset")),e=oe(o,"stroke-dasharray").split(","),p=0-s,i=parseFloat(e[0])+p||u);return{s:p,e:i,l:u}}function wi(o){o.style.strokeDashoffset="",o.style.strokeDasharray=""}function Mi(){return Je(this.element)}function Ti(o,a){return Je(this.element,a)}const Pi={prepareStart:Mi,prepareProperty:Ti,onStart:Ci},Ei={component:"svgDraw",property:"draw",defaultValue:"0% 0%",Interpolate:{numbers:z},functions:Pi,Util:{getRectLength:Ht,getPolyLength:bt,getLineLength:$t,getCircleLength:Nt,getEllipseLength:Wt,getTotalLength:Ut,resetDraw:wi,getDraw:Je,percent:Ye}};function Ai(o,a,u){if(o[u].length>7){o[u].shift();const p=o[u];let i=u;for(;p.length;)a[u]="A",o.splice(i+=1,0,["C",...p.splice(0,6)]);o.splice(u,1)}}const xe={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function Qt(o){let a=o.pathValue[o.segmentStart],u=a.toLowerCase(),{data:p}=o;for(u==="m"&&p.length>2&&(o.segments.push([a,p[0],p[1]]),p=p.slice(2),u="l",a=a==="m"?"l":"L");p.length>=xe[u]&&(o.segments.push([a,...p.splice(0,xe[u])]),!!xe[u]););}const q="Invalid path value";function Ii(o){const{index:a}=o,u=o.pathValue.charCodeAt(a);if(u===48){o.param=0,o.index+=1;return}if(u===49){o.param=1,o.index+=1;return}o.err=`${q}: invalid Arc flag "${u}", expecting 0 or 1 at index ${a}`}function ce(o){return o>=48&&o<=57}function ki(o){const{max:a,pathValue:u,index:p}=o;let i=p,e=!1,s=!1,r=!1,n=!1,h;if(i>=a){o.err=`${q} at ${i}: missing param ${u[i]}`;return}if(h=u.charCodeAt(i),(h===43||h===45)&&(i+=1,h=i<a?u.charCodeAt(i):0),!ce(h)&&h!==46){o.err=`${q} at index ${i}: ${u[i]} is not a number`;return}if(h!==46){if(e=h===48,i+=1,h=i<a?u.charCodeAt(i):0,e&&i<a&&h&&ce(h)){o.err=`${q} at index ${p}: ${u[p]} illegal number`;return}for(;i<a&&ce(u.charCodeAt(i));)i+=1,s=!0;h=i<a?u.charCodeAt(i):0}if(h===46){for(n=!0,i+=1;ce(u.charCodeAt(i));)i+=1,r=!0;h=i<a?u.charCodeAt(i):0}if(h===101||h===69){if(n&&!s&&!r){o.err=`${q} at index ${i}: ${u[i]} invalid float exponent`;return}if(i+=1,h=i<a?u.charCodeAt(i):0,(h===43||h===45)&&(i+=1),i<a&&ce(u.charCodeAt(i)))for(;i<a&&ce(u.charCodeAt(i));)i+=1;else{o.err=`${q} at index ${i}: ${u[i]} invalid float exponent`;return}}o.index=i,o.param=+o.pathValue.slice(p,i)}function Oi(o){const a=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];return o===10||o===13||o===8232||o===8233||o===32||o===9||o===11||o===12||o===160||o>=5760&&a.indexOf(o)>=0}function Ve(o){const{pathValue:a,max:u}=o;for(;o.index<u&&Oi(a.charCodeAt(o.index));)o.index+=1}function Li(o){switch(o|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}function Bi(o){return o>=48&&o<=57||o===43||o===45||o===46}function Fi(o){return(o|32)==97}function Vi(o){const{max:a,pathValue:u,index:p}=o,i=u.charCodeAt(p),e=xe[u[p].toLowerCase()];if(o.segmentStart=p,!Li(i)){o.err=`${q}: ${u[p]} not a path command`;return}if(o.index+=1,Ve(o),o.data=[],!e){Qt(o);return}for(;;){for(let s=e;s>0;s-=1){if(Fi(i)&&(s===3||s===4)?Ii(o):ki(o),o.err.length)return;o.data.push(o.param),Ve(o),o.index<a&&u.charCodeAt(o.index)===44&&(o.index+=1,Ve(o))}if(o.index>=o.max||!Bi(u.charCodeAt(o.index)))break}Qt(o)}function me(o){return o.map(a=>Array.isArray(a)?[...a]:a)}function Ri(o){this.segments=[],this.pathValue=o,this.max=o.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}function qe(o){return Array.isArray(o)&&o.every(a=>{const u=a[0].toLowerCase();return xe[u]===a.length-1&&"achlmqstvz".includes(u)})}function zt(o){if(qe(o))return me(o);const a=new Ri(o);for(Ve(a);a.index<a.max&&!a.err.length;)Vi(a);return a.err.length?a.segments=[]:a.segments.length&&("mM".includes(a.segments[0][0])?a.segments[0][0]="M":(a.err=`${q}: missing M/m`,a.segments=[])),a.segments}function Gt(o){return qe(o)&&o.every(a=>a[0]===a[0].toUpperCase())}function Zt(o){if(Gt(o))return me(o);const a=zt(o);let u=0,p=0,i=0,e=0;return a.map(s=>{const r=s.slice(1).map(Number),[n]=s,h=n.toUpperCase();if(n==="M")return[u,p]=r,i=u,e=p,["M",u,p];let l=[];if(n!==h)switch(h){case"A":l=[h,r[0],r[1],r[2],r[3],r[4],r[5]+u,r[6]+p];break;case"V":l=[h,r[0]+p];break;case"H":l=[h,r[0]+u];break;default:{const f=r.map((t,c)=>t+(c%2?p:u));l=[h,...f]}}else l=[h,...r];const v=l.length;switch(h){case"Z":u=i,p=e;break;case"H":[,u]=l;break;case"V":[,p]=l;break;default:u=l[v-2],p=l[v-1],h==="M"&&(i=u,e=p)}return l})}function Di(o,a,u,p,i){return"QT".includes(i)?{qx:o*2-u,qy:a*2-p}:{qx:o,qy:a}}function Hi(o,a,u,p,i){return"CS".includes(i)?{x1:o*2-u,y1:a*2-p}:{x1:o,y1:a}}function bi(o,a,u){const[p]=o,{x1:i,y1:e,x2:s,y2:r}=a,n=o.slice(1).map(Number);let h=o;if("TQ".includes(p)||(a.qx=null,a.qy=null),p==="H")h=["L",o[1],e];else if(p==="V")h=["L",i,o[1]];else if(p==="S"){const{x1:l,y1:v}=Hi(i,e,s,r,u);a.x1=l,a.y1=v,h=["C",l,v,...n]}else if(p==="T"){const{qx:l,qy:v}=Di(i,e,a.qx,a.qy,u);a.qx=l,a.qy=v,h=["Q",l,v,...n]}else if(p==="Q"){const[l,v]=n;a.qx=l,a.qy=v}return h}function $i(o){return Gt(o)&&o.every(a=>"ACLMQZ".includes(a[0]))}const jt={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function ye(o){if($i(o))return me(o);const a=Zt(o),u=Ne({},jt),p=[],i=a.length;let e="",s="";for(let r=0;r<i;r+=1){[e]=a[r],p[r]=e,r&&(s=p[r-1]),a[r]=bi(a[r],u,s);const n=a[r],h=n.length;u.x1=+n[h-2],u.y1=+n[h-1],u.x2=+n[h-4]||u.x1,u.y2=+n[h-3]||u.y1}return a}function Kt(o){const a=zt(o),u=ye(a),{length:p}=a,i=u.slice(-1)[0][0]==="Z",e=i?p-2:p-1,[s,r]=u[0].slice(1),[n,h]=u[e].slice(-2);return i&&s===n&&r===h?a.slice(0,-1):a}function Ni(o){return qe(o)&&o.every(a=>"MC".includes(a[0]))}function Re(o,a,u){const p=o*Math.cos(u)-a*Math.sin(u),i=o*Math.sin(u)+a*Math.cos(u);return{x:p,y:i}}function _e(o,a,u,p,i,e,s,r,n,h){let l=o,v=a,f=u,t=p,c=r,g=n;const x=Math.PI*120/180,S=Math.PI/180*(+i||0);let M=[],E,d,m,C,y;if(h)[d,m,C,y]=h;else{E=Re(l,v,-S),l=E.x,v=E.y,E=Re(c,g,-S),c=E.x,g=E.y;const R=(l-c)/2,$=(v-g)/2;let b=R*R/(f*f)+$*$/(t*t);b>1&&(b=Math.sqrt(b),f*=b,t*=b);const G=f*f,U=t*t,Q=(e===s?-1:1)*Math.sqrt(Math.abs((G*U-G*$*$-U*R*R)/(G*$*$+U*R*R)));C=Q*f*$/t+(l+c)/2,y=Q*-t*R/f+(v+g)/2,d=(Math.asin((v-y)/t)*10**9>>0)/10**9,m=(Math.asin((g-y)/t)*10**9>>0)/10**9,d=l<C?Math.PI-d:d,m=c<C?Math.PI-m:m,d<0&&(d=Math.PI*2+d),m<0&&(m=Math.PI*2+m),s&&d>m&&(d-=Math.PI*2),!s&&m>d&&(m-=Math.PI*2)}let T=m-d;if(Math.abs(T)>x){const R=m,$=c,b=g;m=d+x*(s&&m>d?1:-1),c=C+f*Math.cos(m),g=y+t*Math.sin(m),M=_e(c,g,f,t,i,0,s,$,b,[m,R,C,y])}T=m-d;const P=Math.cos(d),A=Math.sin(d),w=Math.cos(m),I=Math.sin(m),k=Math.tan(T/4),O=4/3*f*k,L=4/3*t*k,B=[l,v],V=[l+O*A,v-L*P],H=[c+O*I,g-L*w],D=[c,g];if(V[0]=2*B[0]-V[0],V[1]=2*B[1]-V[1],h)return[...V,...H,...D,...M];M=[...V,...H,...D,...M];const W=[];for(let R=0,$=M.length;R<$;R+=1)W[R]=R%2?Re(M[R-1],M[R],S).y:Re(M[R],M[R+1],S).x;return W}function Wi(o,a,u,p,i,e){const s=1/3,r=2/3;return[s*o+r*u,s*a+r*p,s*i+r*u,s*e+r*p,i,e]}function ee(o,a,u){const[p,i]=o,[e,s]=a;return[p+(e-p)*u,i+(s-i)*u]}function te(o,a){return Math.sqrt((o[0]-a[0])*(o[0]-a[0])+(o[1]-a[1])*(o[1]-a[1]))}function ue(o,a,u,p,i){const e=te([o,a],[u,p]),s=.001;if(typeof i=="number"){if(i<s)return{x:o,y:a};if(i>e+s)return{x:u,y:p};const[r,n]=ee([o,a],[u,p],i/e);return{x:r,y:n}}return e}function Xt(o,a,u,p){const i=.5,e=[o,a],s=[u,p],r=ee(e,s,i),n=ee(s,r,i),h=ee(r,n,i),l=ee(n,h,i),v=ee(h,l,i),f=[...e,...r,...h,...v,i],t=ue(...f),c=[...v,...l,...n,...s,0],g=ue(...c);return[t.x,t.y,g.x,g.y,u,p]}function Ui(o,a){const[u]=o,p=o.slice(1).map(v=>+v),[i,e]=p;let s;const{x1:r,y1:n,x:h,y:l}=a;switch("TQ".includes(u)||(a.qx=null,a.qy=null),u){case"M":return a.x=i,a.y=e,o;case"A":return s=[r,n,...p],["C",..._e(...s)];case"Q":return a.qx=i,a.qy=e,s=[r,n,...p],["C",...Wi(...s)];case"L":return["C",...Xt(r,n,i,e)];case"Z":return["C",...Xt(r,n,h,l)]}return o}function Qi(o){if(Ni(o))return me(o);const a=Kt(ye(o)),u=Ne({},jt),p=[];let i="",e=a.length;for(let s=0;s<e;s+=1){[i]=a[s],p[s]=i,a[s]=Ui(a[s],u),Ai(a,p,s),e=a.length;const r=a[s],n=r.length;u.x1=+r[n-2],u.y1=+r[n-1],u.x2=+r[n-4]||u.x1,u.y2=+r[n-3]||u.y1}return a}const zi={origin:[0,0,0],round:4};function De(o,a){let{round:u}=zi;if(a===!1||u===!1)return me(o);u=a>=1?a:u;const p=u>=1?10**u:1;return o.map(i=>{const e=i.slice(1).map(Number).map(s=>s%1==0?s:Math.round(s*p)/p);return[i[0],...e]})}function et(o,a){return De(o,a).map(u=>u[0]+u.slice(1).join(" ")).join("")}function Gi(o){return et(Zt(o),0).replace(/(m|M)/g,"|$1").split("|").map(a=>a.trim()).filter(a=>a)}function Zi(o,a,u,p,i,e,s,r,n){const h=1-n;return{x:h**3*o+3*h**2*n*u+3*h*n**2*i+n**3*s,y:h**3*a+3*h**2*n*p+3*h*n**2*e+n**3*r}}function He(o,a,u,p,i,e,s,r,n){let h=o,l=a;const v=.001;let f=0,t=[o,a,f],c=[o,a],g=0;if(typeof n=="number"&&n<v)return{x:h,y:l};const x=100;for(let S=0;S<=x;S+=1){if(g=S/x,{x:h,y:l}=Zi(o,a,u,p,i,e,s,r,g),f+=te(c,[h,l]),c=[h,l],typeof n=="number"&&f>=n){const M=(f-n)/(f-t[2]);return{x:c[0]*(1-M)+t[0]*M,y:c[1]*(1-M)+t[1]*M}}t=[h,l,f]}return typeof n=="number"&&n>=f?{x:s,y:r}:f}function Yt(o,a,u,p,i,e,s,r,n,h){let[l,v]=[o,a];const f=_e(o,a,u,p,i,e,s,r,n),t=.001;let c=0,g=[],x=[],S=0;if(typeof h=="number"&&h<t)return{x:l,y:v};for(let M=0,E=f.length;M<E;M+=6){if(g=f.slice(M,M+6),x=[l,v,...g],S=He(...x),typeof h=="number"&&c+S>=h)return He(...x,h-c);c+=S,[l,v]=g.slice(-2)}return typeof h=="number"&&h>=c?{x:r,y:n}:c}function ji(o,a,u,p,i,e,s){const r=1-s;return{x:r**2*o+2*r*s*u+s**2*i,y:r**2*a+2*r*s*p+s**2*e}}function Jt(o,a,u,p,i,e,s){let r=o,n=a;const h=.001;let l=0,v=[o,a,l],f=[o,a],t=0;if(typeof s=="number"&&s<h)return{x:r,y:n};const c=100;for(let g=0;g<=c;g+=1){if(t=g/c,{x:r,y:n}=ji(o,a,u,p,i,e,t),l+=te(f,[r,n]),f=[r,n],typeof s=="number"&&l>=s){const x=(l-s)/(l-v[2]);return{x:f[0]*(1-x)+v[0]*x,y:f[1]*(1-x)+v[1]*x}}v=[r,n,l]}return typeof s=="number"&&s>=l?{x:i,y:e}:l}function qt(o,a){let u=0,p=!0,i=[],e="M",s=0,r=0,n=0,h=0,l=0,v;const f=Kt(ye(o));for(let t=0,c=f.length;t<c;t+=1){if(v=f[t],[e]=v,p=e==="M",i=p?i:[r,n,...v.slice(1)],p){if([,h,l]=v,typeof a=="number"&&a<.001)return{x:h,y:l}}else if(e==="L"){if(s=ue(...i),a&&u+s>=a)return ue(...i,a-u);u+=s}else if(e==="A"){if(s=Yt(...i),a&&u+s>=a)return Yt(...i,a-u);u+=s}else if(e==="C"){if(s=He(...i),a&&u+s>=a)return He(...i,a-u);u+=s}else if(e==="Q"){if(s=Jt(...i),a&&u+s>=a)return Jt(...i,a-u);u+=s}else if(e==="Z"){if(i=[r,n,h,l],s=ue(...i),a&&u+s>=a)return ue(...i,a-u);u+=s}[r,n]=e!=="Z"?v.slice(-2):[h,l]}return a&&a>=u?{x:r,y:n}:u}function _t(o){return qt(o)}function en(o,a){return qt(o,a)}function tn(o){const a=o.length;let u=-1,p,i=o[a-1],e=0;for(;++u<a;)p=i,i=o[u],e+=p[1]*i[0]-p[0]*i[1];return e/2}function Ki(o){return o.reduce((a,u,p)=>p?a+te(o[p-1],u):0,0)}const Xi=1e-9;function nn(o,a,u,p){const i=[];for(let e=0;e<u;e+=1){i[e]=[];for(let s=0;s<2;s+=1)i[e].push(((o[e][s]+(a[e][s]-o[e][s])*p)*1e3>>0)/1e3)}return i}function Yi(o){!F[o]&&this.valuesEnd[o]&&(F[o]=(a,u,p,i)=>{const e=u.polygon,s=p.polygon,r=s.length;a.setAttribute("d",i===1?p.original:`M${nn(e,s,r,i).join("L")}Z`)})}function Ji(o){const a=[],u=o.length;let p=[],i="";if(!o.length||o[0][0]!=="M")return!1;for(let e=0;e<u&&(p=o[e],[i]=p,!(i==="M"&&e||i==="Z"));e+=1)if("ML".includes(i))a.push([p[1],p[2]]);else return!1;return u?{polygon:a}:!1}function sn(o,a){const u=Gi(et(o))[0],p=ye(u),i=_t(p),e=[];let s=3,r;a&&!Number.isNaN(a)&&+a>0&&(s=Math.max(s,Math.ceil(i/a)));for(let n=0;n<s;n+=1)r=en(p,i*n/s),e.push([r.x,r.y]);return tn(e)>0&&e.reverse(),{polygon:e,skipBisect:!0}}function rn(o,a){const u=ye(o);return Ji(u)||sn(u,a)}function an(o,a){const u=o.length;let p=1/0,i,e=0,s,r,n;for(let h=0;h<u;h+=1){e=0;for(let l=0;l<a.length;l+=1)n=a[l],r=te(o[(h+l)%u],n),e+=r*r;e<p&&(p=e,i=h)}i&&(s=o.splice(0,i),o.splice(o.length,0,...s))}function tt(o,a){const u=o.length+a,p=Ki(o)/a;let i=0,e=0,s=p/2,r,n,h;for(;o.length<u;)r=o[i],n=o[(i+1)%o.length],h=te(r,n),s<=e+h?(o.splice(i+1,0,h?ee(r,n,(s-e)/h):r.slice(0)),s+=p):(e+=h,i+=1)}function on(o,a=1/0){let u=[],p=[];for(let i=0;i<o.length;i+=1)for(u=o[i],p=i===o.length-1?o[0]:o[i+1];te(u,p)>a;)p=ee(u,p,.5),o.splice(i+1,0,p)}function ln(o){return Array.isArray(o)&&o.every(a=>Array.isArray(a)&&a.length===2&&!Number.isNaN(a[0])&&!Number.isNaN(a[1]))}function nt(o,a){let u,p;if(typeof o=="string")({polygon:p,skipBisect:u}=rn(o,a));else if(!Array.isArray(o))throw Error(`${q}: ${o}`);const i=[...p];if(!ln(i))throw Error(`${q}: ${i}`);return i.length>1&&te(i[0],i[i.length-1])<Xi&&i.pop(),!u&&a&&!Number.isNaN(a)&&+a>0&&on(i,a),i}function fn(o,a,u){const p=u||X.morphPrecision,i=nt(o,p),e=nt(a,p),s=i.length-e.length;return tt(i,s<0?s*-1:0),tt(e,s>0?s:0),an(i,e),[De(i),De(e)]}function qi(){return this.element.getAttribute("d")}function _i(o,a){const u={},p=new RegExp("\\n","ig");let i=null;return a instanceof SVGPathElement?i=a:/^\.|^#/.test(a)&&(i=le(a)),typeof a=="object"&&a.polygon?a:(i&&["path","glyph"].includes(i.tagName)?u.original=i.getAttribute("d").replace(p,""):!i&&typeof a=="string"&&(u.original=a.replace(p,"")),u)}function es(o){if(this.valuesEnd[o]){const a=this.valuesStart[o].polygon,u=this.valuesEnd[o].polygon;if(!a||!u||a&&u&&a.length!==u.length){const p=this.valuesStart[o].original,i=this.valuesEnd[o].original,e=this._morphPrecision?parseInt(this._morphPrecision,10):X.morphPrecision,[s,r]=fn(p,i,e);this.valuesStart[o].polygon=s,this.valuesEnd[o].polygon=r}}}const ts={prepareStart:qi,prepareProperty:_i,onStart:Yi,crossCheck:es},ns={component:"svgMorph",property:"path",defaultValue:[],Interpolate:nn,defaultOptions:{morphPrecision:10},functions:ts,Util:{addPoints:tt,bisect:on,getPolygon:nt,validPolygon:ln,getInterpolationPoints:fn,pathStringToPolygon:rn,distanceSquareRoot:te,midPoint:ee,approximatePolygon:sn,rotatePolygon:an,pathToString:et,pathToCurve:Qi,getTotalLength:_t,getPointAtLength:en,polygonArea:tn,roundPath:De}},be={EssentialBoxModel:$n,ColorsProperties:Zn,HTMLAttributes:Jn,OpacityProperty:ni,TextWriteProp:ci,TransformFunctions:Si,SVGDraw:Ei,SVGMorph:ns};Object.keys(be).forEach(o=>{const a=be[o];be[o]=new mt(a)});var is="2.2.2";const ss=is,as={Animation:mt,Components:be,Tween:xt,fromTo:On,to:In,TweenCollection:pe,allFromTo:Bn,allTo:Ln,Objects:Cn,Util:ze,Easing:ke,CubicBezier:N,Render:Qe,Interpolate:ae,Process:Pn,Internals:Tn,Selector:le,Version:ss};export{as as K,dn as m};
